<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.45" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://coderwdd.github.io/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html"><meta property="og:site_name" content="å´æŸäºº"><meta property="og:title" content="Composeè‡ªå®šä¹‰View"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-07T14:54:20.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="Jetpack Compose"><meta property="article:tag" content="Android"><meta property="article:tag" content="Kotlin"><meta property="article:tag" content="View"><meta property="article:modified_time" content="2022-06-07T14:54:20.000Z"><title>Composeè‡ªå®šä¹‰View | å´æŸäºº</title><meta name="description" content="A blog for daily learning!">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.927c3f8e.css">
    <link rel="modulepreload" href="/assets/app.ac0a5f4e.js"><link rel="modulepreload" href="/assets/Composeè‡ªå®šä¹‰View.html.9936b492.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/Composeè‡ªå®šä¹‰View.html.e8457988.js"><link rel="prefetch" href="/assets/index.html.2c460f04.js"><link rel="prefetch" href="/assets/intro.html.c0151317.js"><link rel="prefetch" href="/assets/index.html.64e3be96.js"><link rel="prefetch" href="/assets/index.html.29f70ab3.js"><link rel="prefetch" href="/assets/Git.html.b05efa23.js"><link rel="prefetch" href="/assets/index.html.663da0ae.js"><link rel="prefetch" href="/assets/äº¬ä¸œè„šæœ¬.html.3b695d98.js"><link rel="prefetch" href="/assets/å°ç±³9root.html.1a81bc5f.js"><link rel="prefetch" href="/assets/å°ç±³Ac2100.html.d8e36aa6.js"><link rel="prefetch" href="/assets/index.html.10ed11d0.js"><link rel="prefetch" href="/assets/ActivityLifecycle.html.03a26bbf.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹LiveData.html.a4eaded5.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹RecyclerView.html.848aac97.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹ViewModel.html.14522706.js"><link rel="prefetch" href="/assets/index.html.891f0259.js"><link rel="prefetch" href="/assets/AndroidStylingSystem.html.4d4b2b42.js"><link rel="prefetch" href="/assets/Composeä¸­çš„é˜¶æ®µ.html.f765ac08.js"><link rel="prefetch" href="/assets/Composeä¸­çš„é™„å¸¦æ•ˆåº”.html.95e58a9c.js"><link rel="prefetch" href="/assets/ComposeåŠ¨ç”».html.001683a5.js"><link rel="prefetch" href="/assets/Composeæ‰‹åŠ¿.html.a556bfb6.js"><link rel="prefetch" href="/assets/Composeæ¶æ„åˆ†å±‚.html.9c343dd0.js"><link rel="prefetch" href="/assets/ComposeçŠ¶æ€ç®¡ç†.html.d331c3d0.js"><link rel="prefetch" href="/assets/Composeç”Ÿå‘½å‘¨æœŸ.html.ec18aea3.js"><link rel="prefetch" href="/assets/Composeç³»åˆ—ä¹‹å…¥é—¨ç®€ä»‹.html.2d4ef14a.js"><link rel="prefetch" href="/assets/Composeç¼–ç¨‹æ€æƒ³.html.62a794a1.js"><link rel="prefetch" href="/assets/index.html.30fccea6.js"><link rel="prefetch" href="/assets/Kotlin RoadMap.html.e9d9224d.js"><link rel="prefetch" href="/assets/Kotlinä¸Javaäº’æ“ä½œ.html.b31a0e7e.js"><link rel="prefetch" href="/assets/Kotlinåç¨‹.html.ba333785.js"><link rel="prefetch" href="/assets/Kotlinå¸¸ç”¨è¯­æ³•.html.7da7815d.js"><link rel="prefetch" href="/assets/Null Safety.html.feb6a2f6.js"><link rel="prefetch" href="/assets/index.html.ae7a3203.js"><link rel="prefetch" href="/assets/å‡½æ•°å¼ç¼–ç¨‹.html.bf124855.js"><link rel="prefetch" href="/assets/åŸºç¡€è¯­æ³•.html.6779efea.js"><link rel="prefetch" href="/assets/å¸¸è§é—®é¢˜æ€»ç»“.html.d5b2ac89.js"><link rel="prefetch" href="/assets/æ ‡å‡†å‡½æ•°.html.039e17ae.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡.html.6207ffe3.js"><link rel="prefetch" href="/assets/index.html.441bc862.js"><link rel="prefetch" href="/assets/index.html.07c09ab5.js"><link rel="prefetch" href="/assets/index.html.2e3c2b68.js"><link rel="prefetch" href="/assets/index.html.b3e9e886.js"><link rel="prefetch" href="/assets/Vue-cli.html.127e952e.js"><link rel="prefetch" href="/assets/VueåŸºç¡€.html.7cd821ee.js"><link rel="prefetch" href="/assets/Vueç”Ÿå‘½å‘¨æœŸå’Œç»„ä»¶.html.06144d50.js"><link rel="prefetch" href="/assets/æµè§ˆå™¨æœ¬åœ°å­˜å‚¨.html.461e4bd9.js"><link rel="prefetch" href="/assets/index.html.090f8a4e.js"><link rel="prefetch" href="/assets/åˆ†æ²»ç®—æ³•.html.794ef35d.js"><link rel="prefetch" href="/assets/å•æºæœ€çŸ­è·¯.html.1b7b658b.js"><link rel="prefetch" href="/assets/å›¾çš„åŸºæœ¬æ¦‚å¿µ.html.09c64d3e.js"><link rel="prefetch" href="/assets/æœ€å°ç”Ÿæˆæ ‘.html.f7e30d46.js"><link rel="prefetch" href="/assets/é«˜çº§æ•°æ®ç»“æ„.html.d1a9f9a3.js"><link rel="prefetch" href="/assets/index.html.3f1a2e19.js"><link rel="prefetch" href="/assets/è€ƒè¯•é‡ç‚¹.html.290ecb34.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºç¡€.html.12371050.js"><link rel="prefetch" href="/assets/index.html.3ee88da2.js"><link rel="prefetch" href="/assets/SQL.html.6ecd8356.js"><link rel="prefetch" href="/assets/å…³ç³»æ•°æ®ç†è®º.html.d753a2f9.js"><link rel="prefetch" href="/assets/å¤ä¹ é¢˜ï¼.html.8a179f9e.js"><link rel="prefetch" href="/assets/å¹¶å‘æ§åˆ¶.html.ae113d7a.js"><link rel="prefetch" href="/assets/æ•°æ®åº“äº‹åŠ¡äºæ•…éšœæ¢å¤.html.590c2624.js"><link rel="prefetch" href="/assets/æ•°æ®åº“å®‰å…¨.html.09ced9da.js"><link rel="prefetch" href="/assets/æ•°æ®åº“å®Œæ•´æ€§.html.580fc8a6.js"><link rel="prefetch" href="/assets/æ•°æ®åº“è®¾è®¡.html.8a887eb0.js"><link rel="prefetch" href="/assets/ç¬¬ä¸€ç« ï¼šåŸºç¡€ç¯‡.html.f3407c30.js"><link rel="prefetch" href="/assets/Javaè€ƒè¯•å¤ä¹ .html.fda6480a.js"><link rel="prefetch" href="/assets/index.html.7c9dc61d.js"><link rel="prefetch" href="/assets/index.html.abecd9d4.js"><link rel="prefetch" href="/assets/index.html.05559a5c.js"><link rel="prefetch" href="/assets/index.html.0e11d753.js"><link rel="prefetch" href="/assets/404.html.a001b1d4.js"><link rel="prefetch" href="/assets/index.html.f9066604.js"><link rel="prefetch" href="/assets/index.html.2dd97c6e.js"><link rel="prefetch" href="/assets/index.html.44097b09.js"><link rel="prefetch" href="/assets/index.html.d09420cf.js"><link rel="prefetch" href="/assets/index.html.8308d54a.js"><link rel="prefetch" href="/assets/index.html.e3ca29da.js"><link rel="prefetch" href="/assets/index.html.883a79cc.js"><link rel="prefetch" href="/assets/index.html.f845e10c.js"><link rel="prefetch" href="/assets/index.html.c96f68c3.js"><link rel="prefetch" href="/assets/index.html.0b0f0b94.js"><link rel="prefetch" href="/assets/index.html.9fa15d27.js"><link rel="prefetch" href="/assets/index.html.b8eb061f.js"><link rel="prefetch" href="/assets/index.html.0c73b6f9.js"><link rel="prefetch" href="/assets/index.html.a5a023e1.js"><link rel="prefetch" href="/assets/index.html.84d28b6f.js"><link rel="prefetch" href="/assets/index.html.5e5e82bb.js"><link rel="prefetch" href="/assets/index.html.f71add25.js"><link rel="prefetch" href="/assets/index.html.a004ba78.js"><link rel="prefetch" href="/assets/index.html.f1664a1f.js"><link rel="prefetch" href="/assets/index.html.07cd9bb8.js"><link rel="prefetch" href="/assets/index.html.5cfae1f0.js"><link rel="prefetch" href="/assets/index.html.cb517fec.js"><link rel="prefetch" href="/assets/index.html.710dedfc.js"><link rel="prefetch" href="/assets/index.html.c8823b4b.js"><link rel="prefetch" href="/assets/index.html.1a572967.js"><link rel="prefetch" href="/assets/index.html.c04ccefa.js"><link rel="prefetch" href="/assets/index.html.5f02600c.js"><link rel="prefetch" href="/assets/index.html.2c48a0dd.js"><link rel="prefetch" href="/assets/index.html.1ec010b0.js"><link rel="prefetch" href="/assets/index.html.061469ef.js"><link rel="prefetch" href="/assets/index.html.0319d1c3.js"><link rel="prefetch" href="/assets/intro.html.c3f6d324.js"><link rel="prefetch" href="/assets/index.html.d9b3da9f.js"><link rel="prefetch" href="/assets/index.html.88ca18cb.js"><link rel="prefetch" href="/assets/Git.html.06733855.js"><link rel="prefetch" href="/assets/index.html.350b6c98.js"><link rel="prefetch" href="/assets/äº¬ä¸œè„šæœ¬.html.9614e34d.js"><link rel="prefetch" href="/assets/å°ç±³9root.html.021bc1b8.js"><link rel="prefetch" href="/assets/å°ç±³Ac2100.html.f8c2a05f.js"><link rel="prefetch" href="/assets/index.html.c68e1bda.js"><link rel="prefetch" href="/assets/ActivityLifecycle.html.fbe9f2c9.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹LiveData.html.c3e9777b.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹RecyclerView.html.41e88d40.js"><link rel="prefetch" href="/assets/AndroidåŸºç¡€ä¹‹ViewModel.html.37a4cf21.js"><link rel="prefetch" href="/assets/index.html.d31f11ed.js"><link rel="prefetch" href="/assets/AndroidStylingSystem.html.3abc0fe0.js"><link rel="prefetch" href="/assets/Composeä¸­çš„é˜¶æ®µ.html.3f348086.js"><link rel="prefetch" href="/assets/Composeä¸­çš„é™„å¸¦æ•ˆåº”.html.81028913.js"><link rel="prefetch" href="/assets/ComposeåŠ¨ç”».html.fb1a978b.js"><link rel="prefetch" href="/assets/Composeæ‰‹åŠ¿.html.be5a4722.js"><link rel="prefetch" href="/assets/Composeæ¶æ„åˆ†å±‚.html.92d9c6f8.js"><link rel="prefetch" href="/assets/ComposeçŠ¶æ€ç®¡ç†.html.5a7fa51c.js"><link rel="prefetch" href="/assets/Composeç”Ÿå‘½å‘¨æœŸ.html.b7510444.js"><link rel="prefetch" href="/assets/Composeç³»åˆ—ä¹‹å…¥é—¨ç®€ä»‹.html.be9f43f5.js"><link rel="prefetch" href="/assets/Composeç¼–ç¨‹æ€æƒ³.html.abbd717c.js"><link rel="prefetch" href="/assets/index.html.7cd31cd5.js"><link rel="prefetch" href="/assets/Kotlin RoadMap.html.70ab31d7.js"><link rel="prefetch" href="/assets/Kotlinä¸Javaäº’æ“ä½œ.html.eabf241d.js"><link rel="prefetch" href="/assets/Kotlinåç¨‹.html.5219eb79.js"><link rel="prefetch" href="/assets/Kotlinå¸¸ç”¨è¯­æ³•.html.681224ad.js"><link rel="prefetch" href="/assets/Null Safety.html.4b14b9b1.js"><link rel="prefetch" href="/assets/index.html.ea6334eb.js"><link rel="prefetch" href="/assets/å‡½æ•°å¼ç¼–ç¨‹.html.f3fe16b8.js"><link rel="prefetch" href="/assets/åŸºç¡€è¯­æ³•.html.c2264b76.js"><link rel="prefetch" href="/assets/å¸¸è§é—®é¢˜æ€»ç»“.html.8e63e83e.js"><link rel="prefetch" href="/assets/æ ‡å‡†å‡½æ•°.html.3245dd9d.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡.html.b5e0bb70.js"><link rel="prefetch" href="/assets/index.html.22f1613d.js"><link rel="prefetch" href="/assets/index.html.a13c60f1.js"><link rel="prefetch" href="/assets/index.html.b1b93306.js"><link rel="prefetch" href="/assets/index.html.e9350967.js"><link rel="prefetch" href="/assets/Vue-cli.html.cb5b03bd.js"><link rel="prefetch" href="/assets/VueåŸºç¡€.html.6b543aeb.js"><link rel="prefetch" href="/assets/Vueç”Ÿå‘½å‘¨æœŸå’Œç»„ä»¶.html.17f14e0a.js"><link rel="prefetch" href="/assets/æµè§ˆå™¨æœ¬åœ°å­˜å‚¨.html.fdcc423d.js"><link rel="prefetch" href="/assets/index.html.913cd34c.js"><link rel="prefetch" href="/assets/åˆ†æ²»ç®—æ³•.html.4745de46.js"><link rel="prefetch" href="/assets/å•æºæœ€çŸ­è·¯.html.1534e9bd.js"><link rel="prefetch" href="/assets/å›¾çš„åŸºæœ¬æ¦‚å¿µ.html.7fe79065.js"><link rel="prefetch" href="/assets/æœ€å°ç”Ÿæˆæ ‘.html.f983f3d1.js"><link rel="prefetch" href="/assets/é«˜çº§æ•°æ®ç»“æ„.html.60f56dd3.js"><link rel="prefetch" href="/assets/index.html.3ae2bc8a.js"><link rel="prefetch" href="/assets/è€ƒè¯•é‡ç‚¹.html.707e542b.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºç¡€.html.89a22833.js"><link rel="prefetch" href="/assets/index.html.3eb8aade.js"><link rel="prefetch" href="/assets/SQL.html.d5c6fce3.js"><link rel="prefetch" href="/assets/å…³ç³»æ•°æ®ç†è®º.html.77ae46ff.js"><link rel="prefetch" href="/assets/å¤ä¹ é¢˜ï¼.html.ad9ea185.js"><link rel="prefetch" href="/assets/å¹¶å‘æ§åˆ¶.html.3a980575.js"><link rel="prefetch" href="/assets/æ•°æ®åº“äº‹åŠ¡äºæ•…éšœæ¢å¤.html.e8a9de95.js"><link rel="prefetch" href="/assets/æ•°æ®åº“å®‰å…¨.html.201490cb.js"><link rel="prefetch" href="/assets/æ•°æ®åº“å®Œæ•´æ€§.html.292b46b4.js"><link rel="prefetch" href="/assets/æ•°æ®åº“è®¾è®¡.html.87037ac4.js"><link rel="prefetch" href="/assets/ç¬¬ä¸€ç« ï¼šåŸºç¡€ç¯‡.html.3d500a86.js"><link rel="prefetch" href="/assets/Javaè€ƒè¯•å¤ä¹ .html.6d93ce10.js"><link rel="prefetch" href="/assets/index.html.8949fa1a.js"><link rel="prefetch" href="/assets/index.html.ee602722.js"><link rel="prefetch" href="/assets/index.html.3cc770c9.js"><link rel="prefetch" href="/assets/index.html.415e07b3.js"><link rel="prefetch" href="/assets/404.html.0c8252b8.js"><link rel="prefetch" href="/assets/index.html.d5cc08ad.js"><link rel="prefetch" href="/assets/index.html.1331f6ca.js"><link rel="prefetch" href="/assets/index.html.da6c3a69.js"><link rel="prefetch" href="/assets/index.html.1174fbbd.js"><link rel="prefetch" href="/assets/index.html.c73d2264.js"><link rel="prefetch" href="/assets/index.html.1e315145.js"><link rel="prefetch" href="/assets/index.html.514b72a3.js"><link rel="prefetch" href="/assets/index.html.156f2ac5.js"><link rel="prefetch" href="/assets/index.html.e0c487a6.js"><link rel="prefetch" href="/assets/index.html.af330ec0.js"><link rel="prefetch" href="/assets/index.html.497848a4.js"><link rel="prefetch" href="/assets/index.html.181c3216.js"><link rel="prefetch" href="/assets/index.html.653f957a.js"><link rel="prefetch" href="/assets/index.html.b2415e8a.js"><link rel="prefetch" href="/assets/index.html.a8b97692.js"><link rel="prefetch" href="/assets/index.html.92ca2e51.js"><link rel="prefetch" href="/assets/index.html.76ff61ae.js"><link rel="prefetch" href="/assets/index.html.f2672d1c.js"><link rel="prefetch" href="/assets/index.html.4cc525de.js"><link rel="prefetch" href="/assets/index.html.1b21914d.js"><link rel="prefetch" href="/assets/index.html.c2031158.js"><link rel="prefetch" href="/assets/index.html.82d7c4cf.js"><link rel="prefetch" href="/assets/index.html.b9cb0b96.js"><link rel="prefetch" href="/assets/index.html.d5e35054.js"><link rel="prefetch" href="/assets/index.html.285e3e31.js"><link rel="prefetch" href="/assets/index.html.43f9a9d4.js"><link rel="prefetch" href="/assets/index.html.440056c5.js"><link rel="prefetch" href="/assets/index.html.c3cb2dba.js"><link rel="prefetch" href="/assets/index.html.958242b2.js"><link rel="prefetch" href="/assets/index.html.55a7f22f.js"><link rel="prefetch" href="/assets/404.50865ef8.js"><link rel="prefetch" href="/assets/Layout.b378ea93.js"><link rel="prefetch" href="/assets/Slide.c947dee1.js"><link rel="prefetch" href="/assets/Blog.fee39589.js"><link rel="prefetch" href="/assets/giscus.es.75d9a49d.js"><link rel="prefetch" href="/assets/auto.esm.edfc11f4.js"><link rel="prefetch" href="/assets/index.db7a31cb.js"><link rel="prefetch" href="/assets/index.e1c5a3de.js"><link rel="prefetch" href="/assets/mermaid.esm.min.35088203.js"><link rel="prefetch" href="/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/assets/search.esm.04894411.js"><link rel="prefetch" href="/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/assets/photoswipe.esm.2debdee5.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.svg" alt="å´æŸäºº"><!----><span class="site-name hide-in-pad">å´æŸäºº</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Android"><span class="title"><span class="icon iconfont icon-logo" style=""></span>Android</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/Android/Kotlin/" class="nav-link" aria-label="Kotlin"><!---->Kotlin<!----></a></li><li class="dropdown-item"><a href="/Android/Basics/" class="nav-link" aria-label="Android Basics"><!---->Android Basics<!----></a></li><li class="dropdown-item"><a href="/Android/Intermediate/" class="nav-link active" aria-label="Android Intermediate"><!---->Android Intermediate<!----></a></li><li class="dropdown-item"><a href="/Android/Advanced/" class="nav-link" aria-label="Android Advanced"><!---->Android Advanced<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><!---->Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/Java/Basics/" class="nav-link" aria-label="Java Basics"><!---->Java Basics<!----></a></li><li class="dropdown-item"><a href="/Java/GUI/" class="nav-link" aria-label="Java GUI"><!---->Java GUI<!----></a></li><li class="dropdown-item"><a href="/Java/Advanced/" class="nav-link" aria-label="Java Advanced"><!---->Java Advanced<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Fontend"><span class="title"><!---->Fontend</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/Fontend/HTML/" class="nav-link" aria-label="HTML"><!---->HTML<!----></a></li><li class="dropdown-item"><a href="/Fontend/CSS/" class="nav-link" aria-label="CSS"><!---->CSS<!----></a></li><li class="dropdown-item"><a href="/Fontend/JavaScript/" class="nav-link" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="dropdown-item"><a href="/Fontend/Vue/" class="nav-link" aria-label="Vue"><!---->Vue<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/Algorithm/" class="nav-link" aria-label="Algorithm"><!---->Algorithm<!----></a></div><div class="nav-item hide-in-mobile"><a href="/Linux/" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guet"><span class="title"><!---->Guet</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/GUET/C++/" class="nav-link" aria-label="C++"><!---->C++<!----></a></li><li class="dropdown-item"><a href="/GUET/Database/" class="nav-link" aria-label="Database"><!---->Database<!----></a></li><li class="dropdown-item"><a href="/GUET/Java/" class="nav-link" aria-label="Java"><!---->Java<!----></a></li><li class="dropdown-item"><a href="/GUET/ACM%E7%AC%94%E8%AE%B0/" class="nav-link" aria-label="ACM Algorithm"><!---->ACM Algorithm<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/Others/" class="nav-link" aria-label="Others"><!---->Others<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/CoderWDD" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/Android/Intermediate/" class="nav-link sidebar-link sidebar-page" aria-label="Androidè¿›é˜¶æ ç›®"><!---->Androidè¿›é˜¶æ ç›®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/AndroidStylingSystem.html" class="nav-link sidebar-link sidebar-page" aria-label="Android styling system"><!---->Android styling system<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E7%B3%BB%E5%88%97%E4%B9%8B%E5%85%A5%E9%97%A8%E7%AE%80%E4%BB%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeç³»åˆ—ä¹‹å…¥é—¨ç®€ä»‹"><!---->Composeç³»åˆ—ä¹‹å…¥é—¨ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeç¼–ç¨‹æ€æƒ³"><!---->Composeç¼–ç¨‹æ€æƒ³<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86.html" class="nav-link sidebar-link sidebar-page" aria-label="ComposeçŠ¶æ€ç®¡ç†"><!---->ComposeçŠ¶æ€ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeç”Ÿå‘½å‘¨æœŸ"><!---->Composeç”Ÿå‘½å‘¨æœŸ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E4%B8%AD%E7%9A%84%E9%99%84%E5%B8%A6%E6%95%88%E5%BA%94.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeä¸­çš„é™„å¸¦æ•ˆåº”"><!---->Composeä¸­çš„é™„å¸¦æ•ˆåº”<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E4%B8%AD%E7%9A%84%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeä¸­çš„é˜¶æ®µ"><!---->Composeä¸­çš„é˜¶æ®µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E6%9E%B6%E6%9E%84%E5%88%86%E5%B1%82.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeæ¶æ„åˆ†å±‚"><!---->Composeæ¶æ„åˆ†å±‚<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Composeè‡ªå®šä¹‰View"><!---->Composeè‡ªå®šä¹‰View<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvas" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvas"><!---->Canvas<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasæºç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasæºç "><!---->Canvasæºç <!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶ç‚¹"><!---->Canvasç»˜åˆ¶ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#brushç»˜åˆ¶æ¸å˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Brushç»˜åˆ¶æ¸å˜"><!---->Brushç»˜åˆ¶æ¸å˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶çº¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶çº¿"><!---->Canvasç»˜åˆ¶çº¿<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶çŸ©å½¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶çŸ©å½¢"><!---->Canvasç»˜åˆ¶çŸ©å½¢<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬-style" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬ï¼šstyle"><!---->æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬ï¼šstyle<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶åœ†è§’çŸ©å½¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»˜åˆ¶åœ†è§’çŸ©å½¢"><!---->ç»˜åˆ¶åœ†è§’çŸ©å½¢<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶åœ†åŠæ¤­åœ†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶åœ†åŠæ¤­åœ†"><!---->Canvasç»˜åˆ¶åœ†åŠæ¤­åœ†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶åœ†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»˜åˆ¶åœ†"><!---->ç»˜åˆ¶åœ†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶æ¤­åœ†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»˜åˆ¶æ¤­åœ†"><!---->ç»˜åˆ¶æ¤­åœ†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶åœ†å¼§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶åœ†å¼§"><!---->Canvasç»˜åˆ¶åœ†å¼§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶å›¾ç‰‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶å›¾ç‰‡"><!---->Canvasç»˜åˆ¶å›¾ç‰‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶è·¯å¾„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canvasç»˜åˆ¶è·¯å¾„"><!---->Canvasç»˜åˆ¶è·¯å¾„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#æ··åˆæ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ··åˆæ¨¡å¼"><!---->æ··åˆæ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#å‚è€ƒ-æ¨èèµ„æ–™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒ/æ¨èèµ„æ–™"><!---->å‚è€ƒ/æ¨èèµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E5%8A%A8%E7%94%BB.html" class="nav-link sidebar-link sidebar-page" aria-label="ComposeåŠ¨ç”»"><!---->ComposeåŠ¨ç”»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Android/Intermediate/Compose%E6%89%8B%E5%8A%BF.html" class="nav-link sidebar-link sidebar-page" aria-label="Composeæ‰‹åŠ¿"><!---->Composeæ‰‹åŠ¿<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Composeè‡ªå®šä¹‰View</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/CoderWDD" target="_blank" rel="noopener noreferrer">å´æŸäºº</a></span><span property="author" content="å´æŸäºº"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´6æœˆ7æ—¥</span><meta property="datePublished" content="2022-06-07T14:54:20.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category7 clickable" role="navigation">Jetpack Compose</li><meta property="articleSection" content="Jetpack Compose"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag7 clickable" role="navigation">Jetpack Compose</li><li class="tag tag5 clickable" role="navigation">Android</li><li class="tag tag1 clickable" role="navigation">Kotlin</li><li class="tag tag4 clickable" role="navigation">View</li></ul><meta property="keywords" content="Jetpack Compose,Android,Kotlin,View"></span><span class="words-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 6753 å­—</span><meta property="wordCount" content="6753"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 23 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT23M"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvas" class="router-link-active router-link-exact-active toc-link level2">Canvas</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasæºç " class="router-link-active router-link-exact-active toc-link level3">Canvasæºç </a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶ç‚¹" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#brushç»˜åˆ¶æ¸å˜" class="router-link-active router-link-exact-active toc-link level2">Brushç»˜åˆ¶æ¸å˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶çº¿" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶çº¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶çŸ©å½¢" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶çŸ©å½¢</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬-style" class="router-link-active router-link-exact-active toc-link level3">æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬ï¼šstyle</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶åœ†è§’çŸ©å½¢" class="router-link-active router-link-exact-active toc-link level3">ç»˜åˆ¶åœ†è§’çŸ©å½¢</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶åœ†åŠæ¤­åœ†" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶åœ†åŠæ¤­åœ†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶åœ†" class="router-link-active router-link-exact-active toc-link level3">ç»˜åˆ¶åœ†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#ç»˜åˆ¶æ¤­åœ†" class="router-link-active router-link-exact-active toc-link level3">ç»˜åˆ¶æ¤­åœ†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶åœ†å¼§" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶åœ†å¼§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶å›¾ç‰‡" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶å›¾ç‰‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#canvasç»˜åˆ¶è·¯å¾„" class="router-link-active router-link-exact-active toc-link level2">Canvasç»˜åˆ¶è·¯å¾„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#æ··åˆæ¨¡å¼" class="router-link-active router-link-exact-active toc-link level2">æ··åˆæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Android/Intermediate/Compose%E8%87%AA%E5%AE%9A%E4%B9%89View.html#å‚è€ƒ-æ¨èèµ„æ–™" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒ/æ¨èèµ„æ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="canvas" tabindex="-1"><a class="header-anchor" href="#canvas" aria-hidden="true">#</a> Canvas</h2><h3 id="canvasæºç " tabindex="-1"><a class="header-anchor" href="#canvasæºç " aria-hidden="true">#</a> Canvasæºç </h3><ul><li><p>é¦–å…ˆï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹ Compose ä¸­ Canvas çš„æºç ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier<span class="token operator">:</span> Modifier<span class="token punctuation">,</span> onDraw<span class="token operator">:</span> DrawScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span> <span class="token operator">=</span>
    <span class="token function">Spacer</span><span class="token punctuation">(</span>modifier<span class="token punctuation">.</span><span class="token function">drawBehind</span><span class="token punctuation">(</span>onDraw<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ†æï¼š</p><ul><li>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ Compose ä¸­ï¼ŒCanvas ä¹Ÿæ˜¯ä¸€ä¸ªå¯ç»„åˆé¡¹ï¼Œå› ä¸ºå…¶è¢« <code>@Composable</code> ä¿®é¥°</li><li>Canvas æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯<code>modifier</code>ï¼Œå¦ä¸€ä¸ªæ˜¯<code>DrawScopeå—</code>ç±»å‹çš„<code>onDraw</code></li></ul></li><li><p>ä¸‹é¢æ¥çœ‹çœ‹<code>DrawScope</code>çš„å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@DrawScopeMarker</span>	<span class="token comment">// DSLæ ‡è®°ï¼Œç”¨äºåŒºåˆ†ç»˜å›¾æ“ä½œå’Œç”»å¸ƒè½¬æ¢æ“ä½œ</span>
<span class="token keyword">interface</span> DrawScope <span class="token operator">:</span> Density <span class="token punctuation">{</span>
    <span class="token comment">// å½“å‰çš„DrawContextï¼ŒåŒ…å«åˆ›å»ºç»˜å›¾ç¯å¢ƒæ‰€éœ€çš„ä¾èµ–é¡¹</span>
    <span class="token keyword">val</span> drawContext<span class="token operator">:</span> DrawContext

    <span class="token comment">// ç»˜å›¾ç¯å¢ƒå½“å‰è¾¹ç•Œçš„ä¸­å¿ƒ</span>
    <span class="token keyword">val</span> center<span class="token operator">:</span> Offset
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> drawContext<span class="token punctuation">.</span>size<span class="token punctuation">.</span>center

    <span class="token comment">// å½“å‰ç»˜å›¾ç¯å¢ƒçš„å¤§å°</span>
    <span class="token keyword">val</span> size<span class="token operator">:</span> Size
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> drawContext<span class="token punctuation">.</span>size

    <span class="token comment">// ç»˜åˆ¶çš„åå‘</span>
    <span class="token keyword">val</span> layoutDirection<span class="token operator">:</span> LayoutDirection
    
    <span class="token operator">..</span><span class="token punctuation">.</span>
    
        <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>

        <span class="token comment">// ç”¨äºæ¯ä¸ªç»˜å›¾æ“ä½œçš„é»˜è®¤æ··åˆæ¨¡å¼ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿å°†å†…å®¹ç»˜åˆ¶åœ¨ç›®æ ‡ä¸­çš„åƒç´ ä¸Šæ–¹</span>
        <span class="token keyword">val</span> DefaultBlendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> BlendMode<span class="token punctuation">.</span>SrcOver

        <span class="token comment">/**
         * Default FilterQuality used for determining the filtering algorithm
         * to apply when scaling [ImageBitmap] objects. Maps to the default
         * behavior of bilinear filtering
         */</span>
        <span class="token keyword">val</span> DefaultFilterQuality<span class="token operator">:</span> FilterQuality <span class="token operator">=</span> FilterQuality<span class="token punctuation">.</span>Low
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="canvasç»˜åˆ¶ç‚¹" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶ç‚¹" aria-hidden="true">#</a> Canvasç»˜åˆ¶ç‚¹</h2><ul><li><p>ç»˜åˆ¶ç‚¹çš„æ–¹æ³•åœ¨ä¸Šé¢çš„<code>DrawScope</code>ä¸­å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">drawPoints</span><span class="token punctuation">(</span>
    <span class="token comment">// ç‚¹çš„é›†åˆï¼ŒOffsetè¡¨ç¤ºåæ ‡</span>
    points<span class="token operator">:</span> List<span class="token operator">&lt;</span>Offset<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token comment">// ç‚¹çš„ç»˜åˆ¶æ–¹å¼ï¼ŒPointModeå–å€¼å¯ä¸ºï¼šPointsã€Linesã€Polygon</span>
    <span class="token comment">// Pointsï¼šåˆ†åˆ«ç»˜åˆ¶ç‚¹</span>
    <span class="token comment">// Linesï¼šå°†ç‚¹ä¸¤ä¸¤è¿æ¥ï¼Œç»˜åˆ¶æˆçº¿ï¼Œå¦‚æœç‚¹çš„æ•°é‡ä¸ºå¥‡æ•°ï¼Œåˆ™å¿½ç•¥æœ€åä¸€ä¸ªç‚¹</span>
    <span class="token comment">// Polygonï¼šå°†æ‰€æœ‰çš„ç‚¹è¿æ¥ç»˜åˆ¶æˆçº¿</span>
    pointMode<span class="token operator">:</span> PointMode<span class="token punctuation">,</span>
    <span class="token comment">// ç‚¹çš„é¢œè‰²</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> Float <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>HairlineWidth<span class="token punctuation">,</span>
    cap<span class="token operator">:</span> StrokeCap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Butt<span class="token punctuation">,</span>
    pathEffect<span class="token operator">:</span> PathEffect<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸‹é¢æ¥é€šè¿‡ä¾‹å­æ„Ÿå—ä¸€ä¸‹å„ä¸ªä¸åŒçš„<code>PointMode</code>çš„åŒºåˆ«ï¼š</p><ul><li><p><strong>Points</strong>ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> points <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">200f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">400f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPoints</span><span class="token punctuation">(</span>
            points <span class="token operator">=</span> points<span class="token punctuation">,</span>
            pointMode <span class="token operator">=</span> PointMode<span class="token punctuation">.</span>Points<span class="token punctuation">,</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">20f</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607172436687.png" alt="image-20220607172436687" loading="lazy"></p></li><li><p><strong>Lines</strong>ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> points <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">200f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">400f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">500f</span><span class="token punctuation">,</span><span class="token number">500f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPoints</span><span class="token punctuation">(</span>
            points <span class="token operator">=</span> points<span class="token punctuation">,</span>
            pointMode <span class="token operator">=</span> PointMode<span class="token punctuation">.</span>Lines<span class="token punctuation">,</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">20f</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607172550019.png" alt="image-20220607172550019" loading="lazy"></p><p>ä»ä¸Šé¢çš„é¢„è§ˆæ•ˆæœä¸­ï¼Œæ³¨æ„åˆ°æˆ‘ä»¬ç»˜åˆ¶äº†äº”ä¸ªç‚¹ï¼Œä½†ç”±äº<code>Lines</code>æ˜¯ä¸¤ä¸¤æˆå¯¹ç”»çº¿ï¼Œå› æ­¤ä¼šè‡ªåŠ¨å¿½ç•¥æœ€åä¸€ä¸ªç‚¹ï¼Œæœ€åç»“æœå°±å¦‚ä¸Šå›¾æ‰€ç¤º</p></li><li><p><strong>Polygon</strong>ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> points <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">200f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">400f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">500f</span><span class="token punctuation">,</span><span class="token number">500f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPoints</span><span class="token punctuation">(</span>
            points <span class="token operator">=</span> points<span class="token punctuation">,</span>
            pointMode <span class="token operator">=</span> PointMode<span class="token punctuation">.</span>Polygon<span class="token punctuation">,</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">20f</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607172758909.png" alt="image-20220607172758909" loading="lazy"></p><p><strong><code>Polygon</code>æ¨¡å¼ä¼šè‡ªåŠ¨å°†æ‰€æœ‰çš„ç‚¹è¿æ¥æˆçº¿</strong></p></li></ul></li><li><p><code>drawPoints()</code>æ–¹æ³•ä¸­å¯é€‰çš„å‚æ•°ï¼š<code>strokeWidth</code>ã€<code>cap</code>ã€<code>pathEffect</code>ã€<code>alpha</code>ã€<code>colorFilter</code>ã€<code>blendmode</code></p><ul><li><p><strong>strokeWidth</strong>ï¼šç‚¹çš„å®½åº¦</p></li><li><p><strong>cap</strong>ï¼š</p><ul><li><p>ç±»å‹ä¸º<code>StrokeCap</code>ï¼Œç”¨äºå¤„ç†çº¿æ®µçš„æœ«ç«¯ï¼Œé»˜è®¤ä¸º<code>StrokeCap.Butt</code></p></li><li><p><code>StrokeCap</code>å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;INLINE_CLASS_DEPRECATED&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;EXPERIMENTAL_FEATURE_WARNING&quot;</span></span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Immutable</span>
<span class="token keyword">inline</span> <span class="token keyword">class</span> StrokeCap <span class="token keyword">internal</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;unused&quot;</span></span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">val</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// æœ«ç«¯è½®å»“çš„èµ·å§‹ç‚¹å’Œç»“æŸç‚¹å¸¦æœ‰å¹³ç¼“çš„è¾¹ç¼˜ï¼Œä¸”æ²¡æœ‰å»¶ä¼¸</span>
        <span class="token keyword">val</span> Butt <span class="token operator">=</span> <span class="token function">StrokeCap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token comment">// çº¿æ®µæœ«ç«¯ä¸ºåŠåœ†</span>
        <span class="token keyword">val</span> Round <span class="token operator">=</span> <span class="token function">StrokeCap</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment">// çº¿æ®µæœ«ç«¯å°†æ¯ä¸ªè½®å»“å»¶ä¼¸ç¬”è§¦çš„å®½åº¦çš„ä¸€åŠï¼Œæ•ˆæœä¸Buttç±»ä¼¼ï¼Œä½†æœ«ç«¯æœ‰æ‰€å»¶ä¼¸</span>
        <span class="token keyword">val</span> Square <span class="token operator">=</span> <span class="token function">StrokeCap</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>pathEffect</strong>ï¼š</p><ul><li><p>ç±»å‹ä¸º<code>PathEffect</code>ï¼Œé€‚ç”¨äºç‚¹çš„å¯é€‰æ•ˆæœæˆ–å›¾æ¡ˆï¼Œé»˜è®¤ä¸º null</p></li><li><p><code>PathEffect</code>å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> PathEffect <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// å°†çº¿æ®µä¹‹é—´çš„é”è§’æ›¿æ¢ä¸ºæŒ‡å®šåŠå¾„çš„åœ†è§’</span>
        <span class="token keyword">fun</span> <span class="token function">cornerPathEffect</span><span class="token punctuation">(</span>radius<span class="token operator">:</span> Float<span class="token punctuation">)</span><span class="token operator">:</span> PathEffect <span class="token operator">=</span> <span class="token function">actualCornerPathEffect</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span>
        
        <span class="token comment">// ä»¥ç»™å®šé—´è·ç»˜åˆ¶ä¸€ç³»åˆ—è™šçº¿ï¼Œå¹¶å°†å…¶åç§»åˆ°æŒ‡å®šçš„é—´è·æ•°ç»„ä¸­</span>
        <span class="token keyword">fun</span> <span class="token function">dashPathEffect</span><span class="token punctuation">(</span>intervals<span class="token operator">:</span> FloatArray<span class="token punctuation">,</span> phase<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">)</span><span class="token operator">:</span> PathEffect <span class="token operator">=</span>
            <span class="token function">actualDashPathEffect</span><span class="token punctuation">(</span>intervals<span class="token punctuation">,</span> phase<span class="token punctuation">)</span>
        
        <span class="token comment">// åˆ›å»ºå°†å†…éƒ¨æ•ˆæœåº”ç”¨äºè·¯å¾„çš„PathEffectï¼Œç„¶åå°†å¤–éƒ¨æ•ˆæœåº”ç”¨äºå†…éƒ¨æ•ˆæœçš„ç»“æœ</span>
        <span class="token keyword">fun</span> <span class="token function">chainPathEffect</span><span class="token punctuation">(</span>outer<span class="token operator">:</span> PathEffect<span class="token punctuation">,</span> <span class="token keyword">inner</span><span class="token operator">:</span> PathEffect<span class="token punctuation">)</span><span class="token operator">:</span> PathEffect <span class="token operator">=</span>
            <span class="token function">actualChainPathEffect</span><span class="token punctuation">(</span>outer<span class="token punctuation">,</span> <span class="token keyword">inner</span><span class="token punctuation">)</span>
        
        <span class="token comment">// é€šè¿‡æŒ‡å®šä¸€äº›ç‰¹å®šçš„å½¢çŠ¶ï¼Œå¹¶å°†å…¶æ ‡è®°æ¥ç»˜åˆ¶è·¯å¾„ï¼Œä»…é€‚ç”¨äºç¬”è§¦å½¢çŠ¶ï¼Œä¸”å¡«å……å½¢çŠ¶å°†è¢«å¿½ç•¥</span>
        <span class="token keyword">fun</span> <span class="token function">stampedPathEffect</span><span class="token punctuation">(</span>
            shape<span class="token operator">:</span> Path<span class="token punctuation">,</span>
            advance<span class="token operator">:</span> Float<span class="token punctuation">,</span>
            phase<span class="token operator">:</span> Float<span class="token punctuation">,</span>
            style<span class="token operator">:</span> StampedPathEffectStyle
        <span class="token punctuation">)</span><span class="token operator">:</span> PathEffect <span class="token operator">=</span> <span class="token function">actualStampedPathEffect</span><span class="token punctuation">(</span>shape<span class="token punctuation">,</span> advance<span class="token punctuation">,</span> phase<span class="token punctuation">,</span> style<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ° <code>PathEffect</code> å…¶å®æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œä¼´ç”Ÿå¯¹è±¡ä¸­åªæœ‰ 4 ä¸ªæ–¹æ³•ï¼Œå…¶è¿”å›å€¼ç±»å‹éƒ½ä¸º<code>PathEffect</code>ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨è¿™ 4 ä¸ªæ–¹æ³•è¿›è¡Œæ„å»º PathEffectã€‚ï¼ˆKotlinä¸­ä¼´ç”Ÿå¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>ç±»å.æ–¹æ³•å</code>çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼‰</p></li></ul></li></ul></li></ul><h2 id="brushç»˜åˆ¶æ¸å˜" tabindex="-1"><a class="header-anchor" href="#brushç»˜åˆ¶æ¸å˜" aria-hidden="true">#</a> Brushç»˜åˆ¶æ¸å˜</h2><ul><li><p>é—®é¢˜å¼•å…¥ï¼šä¸Šé¢çš„<code>drawPoints()</code>æ–¹æ³•ä¸­ï¼Œå¯ä»¥å°†ç‚¹è¿æˆçº¿ï¼Œä½†çº¿çš„é¢œè‰²è¿‡äºå•è°ƒï¼Œå¦‚æœæƒ³è¦è®©è¿æ¥çš„çº¿å‘ˆç°æ¸å˜çš„æ•ˆæœï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p></li><li><p>è§£å†³ï¼šå¦‚æœè¦è¾¾åˆ°æ¸å˜çš„æ•ˆæœï¼Œåˆ™ç”¨ä¸Šé¢çš„æ–¹æ³•æä¾›çš„å‚æ•°ï¼Œæ˜¯æ— æ³•å®Œæˆçš„ï¼Œæ­¤æ—¶å¯ä»¥ç”¨<code>drawPoints()</code>çš„é‡è½½æ–¹æ³•ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">drawPoints</span><span class="token punctuation">(</span>
    points<span class="token operator">:</span> List<span class="token operator">&lt;</span>Offset<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    pointMode<span class="token operator">:</span> PointMode<span class="token punctuation">,</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> Float <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>HairlineWidth<span class="token punctuation">,</span>
    cap<span class="token operator">:</span> StrokeCap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Butt<span class="token punctuation">,</span>
    pathEffect<span class="token operator">:</span> PathEffect<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥é‡è½½æ–¹æ³•ï¼Œåªæœ‰ç¬¬ä¸‰ä¸ªå‚æ•°<code>brush</code>ä¸åŸæ¥çš„<code>color</code>ä¸åŒï¼Œå…¶ä½™å‚æ•°éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå…¶åŸå› ä¹Ÿå¥½ç†è§£ï¼Œå¦‚æœè¦å®ç°æ¸å˜çš„æ•ˆæœï¼Œåªæä¾›ä¸€ä¸ª color æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºä¸€ä¸ªé¢œè‰²æ˜¯æ— æ³•è¾¾åˆ°æ¸å˜çš„æ•ˆæœçš„ï¼Œè€Œåº”è¯¥ç”¨<code>Brush</code>æ¥æŒ‡æ˜æ¸å˜çš„è¿‡ç¨‹</p></li><li><p><code>Brush</code>çš„æºç ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Immutable</span>
<span class="token keyword">sealed</span> <span class="token keyword">class</span> Brush <span class="token punctuation">{</span>
    <span class="token keyword">open</span> <span class="token keyword">val</span> intrinsicSize<span class="token operator">:</span> Size <span class="token operator">=</span> Size<span class="token punctuation">.</span>Unspecified

    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">applyTo</span><span class="token punctuation">(</span>size<span class="token operator">:</span> Size<span class="token punctuation">,</span> p<span class="token operator">:</span> Paint<span class="token punctuation">,</span> alpha<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨ç»™å®šçš„å¼€å§‹åæ ‡å’Œç»“æŸåæ ‡ï¼Œä½¿ç”¨æä¾›çš„é¢œè‰²åˆ›å»ºçº¿æ€§æ¸å˜</span>
        <span class="token comment">// é¢œè‰²åˆ†æ•£åœ¨è‰²æ ‡å¯¹ä¸­å®šä¹‰çš„åç§»å¤„</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>
            <span class="token keyword">vararg</span> colorStops<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Float<span class="token punctuation">,</span> Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            start<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
            end<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Infinite<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">LinearGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token punctuation">}</span><span class="token punctuation">,</span>
            stops <span class="token operator">=</span> List<span class="token operator">&lt;</span>Float<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token punctuation">}</span><span class="token punctuation">,</span>
            start <span class="token operator">=</span> start<span class="token punctuation">,</span>
            end <span class="token operator">=</span> end<span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>
        
        <span class="token comment">// ä½¿ç”¨ç»™å®šçš„å¼€å§‹åæ ‡å’Œç»“æŸåæ ‡ï¼Œä½¿ç”¨æä¾›çš„é¢œè‰²åˆ›å»ºçº¿æ€§æ¸å˜</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>
            colors<span class="token operator">:</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            start<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
            end<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Infinite<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">LinearGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> colors<span class="token punctuation">,</span>
            stops <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            start <span class="token operator">=</span> start<span class="token punctuation">,</span>
            end <span class="token operator">=</span> end<span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>
        
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ°´å¹³æ¸å˜ï¼Œç»™å®šçš„é¢œè‰²å‡åŒ€åœ°åˆ†æ•£åœ¨æ¸å˜ä¸­</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">horizontalGradient</span><span class="token punctuation">(</span>
            colors<span class="token operator">:</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            startX<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">,</span>
            endX<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> <span class="token number">0.0f</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span>endX<span class="token punctuation">,</span> <span class="token number">0.0f</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tileMode<span class="token punctuation">)</span>
        
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ°´å¹³æ¸å˜ï¼Œç»™å®šçš„é¢œè‰²åˆ†æ•£åœ¨è‰²æ ‡å¯¹ä¸­å®šä¹‰çš„åç§»å¤„</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">horizontalGradient</span><span class="token punctuation">(</span>
            <span class="token keyword">vararg</span> colorStops<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Float<span class="token punctuation">,</span> Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            startX<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">,</span>
            endX<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>
            <span class="token operator">*</span>colorStops<span class="token punctuation">,</span>
            start <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> <span class="token number">0.0f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            end <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span>endX<span class="token punctuation">,</span> <span class="token number">0.0f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>

        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå‚ç›´æ¸å˜ï¼Œç»™å®šçš„é¢œè‰²å‡åŒ€åœ°åˆ†æ•£åœ¨æ¸å˜ä¸­</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">verticalGradient</span><span class="token punctuation">(</span>
            colors<span class="token operator">:</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            startY<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">,</span>
            endY<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> startY<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">,</span> tileMode<span class="token punctuation">)</span>

        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå‚ç›´æ¸å˜ï¼Œç»™å®šçš„é¢œè‰²åˆ†æ•£åœ¨è‰²æ ‡å¯¹ä¸­å®šä¹‰çš„åç§»å¤„</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">verticalGradient</span><span class="token punctuation">(</span>
            <span class="token keyword">vararg</span> colorStops<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Float<span class="token punctuation">,</span> Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            startY<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">,</span>
            endY<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">linearGradient</span><span class="token punctuation">(</span>
            <span class="token operator">*</span>colorStops<span class="token punctuation">,</span>
            start <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> startY<span class="token punctuation">)</span><span class="token punctuation">,</span>
            end <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>

        <span class="token comment">// åœ¨è‰²æ ‡å¯¹ä¸­å®šä¹‰çš„åç§»å¤„åˆ›å»ºå…·æœ‰ç»™å®šé¢œè‰²çš„å¾„å‘æ¸å˜</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">radialGradient</span><span class="token punctuation">(</span>
            <span class="token keyword">vararg</span> colorStops<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Float<span class="token punctuation">,</span> Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            center<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Unspecified<span class="token punctuation">,</span>
            radius<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">RadialGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token punctuation">}</span><span class="token punctuation">,</span>
            stops <span class="token operator">=</span> List<span class="token operator">&lt;</span>Float<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token punctuation">}</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> center<span class="token punctuation">,</span>
            radius <span class="token operator">=</span> radius<span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>

        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå¾„å‘æ¸å˜ï¼Œç»™å®šçš„é¢œè‰²å‡åŒ€åœ°åˆ†æ•£åœ¨æ¸å˜ä¸­</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">radialGradient</span><span class="token punctuation">(</span>
            colors<span class="token operator">:</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            center<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Unspecified<span class="token punctuation">,</span>
            radius<span class="token operator">:</span> Float <span class="token operator">=</span> Float<span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">,</span>
            tileMode<span class="token operator">:</span> TileMode <span class="token operator">=</span> TileMode<span class="token punctuation">.</span>Clamp
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">RadialGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> colors<span class="token punctuation">,</span>
            stops <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> center<span class="token punctuation">,</span>
            radius <span class="token operator">=</span> radius<span class="token punctuation">,</span>
            tileMode <span class="token operator">=</span> tileMode
        <span class="token punctuation">)</span>

        <span class="token comment">// åˆ›å»ºç»™å®šé¢œè‰²å›´ç»•ä¸­å¿ƒæ•£å¸ƒçš„æ‰«ææ¸å˜ï¼Œå¹¶åœ¨æ¯ä¸ªè‰²æ ‡å¯¹ä¸­å®šä¹‰åç§»é‡</span>
        <span class="token comment">// æ‰«æä» 3 ç‚¹é’Ÿæ–¹å‘å¼€å§‹ï¼Œç„¶åé¡ºæ—¶é’ˆæ—‹è½¬ï¼Œç›´åˆ°å†æ¬¡åˆ°è¾¾èµ·å§‹ä½ç½®</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">sweepGradient</span><span class="token punctuation">(</span>
            <span class="token keyword">vararg</span> colorStops<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Float<span class="token punctuation">,</span> Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            center<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Unspecified
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">SweepGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token punctuation">}</span><span class="token punctuation">,</span>
            stops <span class="token operator">=</span> List<span class="token operator">&lt;</span>Float<span class="token operator">&gt;</span><span class="token punctuation">(</span>colorStops<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">-&gt;</span> colorStops<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token punctuation">}</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> center
        <span class="token punctuation">)</span>

        <span class="token comment">// åˆ›å»ºç»™å®šé¢œè‰²å›´ç»•ä¸­å¿ƒæ•£å¸ƒçš„æ‰«ææ¸å˜ï¼Œæ— åç§»é‡</span>
        <span class="token comment">// æ‰«æä» 3 ç‚¹é’Ÿæ–¹å‘å¼€å§‹ï¼Œç„¶åé¡ºæ—¶é’ˆæ—‹è½¬ï¼Œç›´åˆ°å†æ¬¡åˆ°è¾¾èµ·å§‹ä½ç½®</span>
        <span class="token annotation builtin">@Stable</span>
        <span class="token keyword">fun</span> <span class="token function">sweepGradient</span><span class="token punctuation">(</span>
            colors<span class="token operator">:</span> List<span class="token operator">&lt;</span>Color<span class="token operator">&gt;</span><span class="token punctuation">,</span>
            center<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Unspecified
        <span class="token punctuation">)</span><span class="token operator">:</span> Brush <span class="token operator">=</span> <span class="token function">SweepGradient</span><span class="token punctuation">(</span>
            colors <span class="token operator">=</span> colors<span class="token punctuation">,</span>
            stops <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> center
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç®€å•ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> points <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">200f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">400f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">500f</span><span class="token punctuation">,</span><span class="token number">500f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPoints</span><span class="token punctuation">(</span>
            points <span class="token operator">=</span> points<span class="token punctuation">,</span>
            pointMode <span class="token operator">=</span> PointMode<span class="token punctuation">.</span>Polygon<span class="token punctuation">,</span>
            brush <span class="token operator">=</span> Brush<span class="token punctuation">.</span><span class="token function">linearGradient</span><span class="token punctuation">(</span>
                colors <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
                    Color<span class="token punctuation">.</span>Red<span class="token punctuation">,</span>
                    Color<span class="token punctuation">.</span>Green<span class="token punctuation">,</span>
                    Color<span class="token punctuation">.</span>Blue
                <span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            cap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Round<span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">20f</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607182735559.png" alt="image-20220607182735559" loading="lazy"></p></li><li><p>ä¸Šé¢çš„ä»£ç å®ç°çš„æ•ˆæœçš„é¢œè‰²æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œé‚£å¦‚æœè¦æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶æ¯ä¸€æ®µçš„é¢œè‰²ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> points <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">200f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">400f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">500f</span><span class="token punctuation">,</span><span class="token number">500f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPoints</span><span class="token punctuation">(</span>
            points <span class="token operator">=</span> points<span class="token punctuation">,</span>
            pointMode <span class="token operator">=</span> PointMode<span class="token punctuation">.</span>Polygon<span class="token punctuation">,</span>
            brush <span class="token operator">=</span> Brush<span class="token punctuation">.</span><span class="token function">linearGradient</span><span class="token punctuation">(</span>
                <span class="token number">0.0f</span> <span class="token keyword">to</span> Color<span class="token punctuation">.</span>Red<span class="token punctuation">,</span>
                <span class="token number">0.3f</span> <span class="token keyword">to</span> Color<span class="token punctuation">.</span>Green<span class="token punctuation">,</span>
                <span class="token number">0.6f</span> <span class="token keyword">to</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
                <span class="token number">1.0f</span> <span class="token keyword">to</span> Color<span class="token punctuation">.</span>Gray
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            cap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Round<span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">20f</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607183531167.png" alt="image-20220607183531167" loading="lazy"></p></li></ul><h2 id="canvasç»˜åˆ¶çº¿" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶çº¿" aria-hidden="true">#</a> Canvasç»˜åˆ¶çº¿</h2><ul><li><p>å¼•å…¥ï¼šå‰é¢å…¶å®å·²ç»ç”¨ç»˜åˆ¶ç‚¹çš„æ–¹å¼ç»˜åˆ¶è¿‡çº¿äº†ï¼Œåªä¸è¿‡ Compose æä¾›äº†æ›´ä¸ºä¸“é—¨çš„å‡½æ•°ç”¨äºç»˜åˆ¶çº¿ï¼Œä¸”ç»˜åˆ¶çº¿çš„æ–¹æ³•ä¹Ÿåœ¨å‰é¢æåˆ°çš„<code>DrawScope</code>ä¸­å®šä¹‰ï¼Œä¸º<code>drawLine</code></p></li><li><p><code>drawLine()</code>æ–¹æ³•çš„å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawLine</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    start<span class="token operator">:</span> Offset<span class="token punctuation">,</span>	<span class="token comment">// èµ·ç‚¹åæ ‡</span>
    end<span class="token operator">:</span> Offset<span class="token punctuation">,</span>	<span class="token comment">// ç»ˆç‚¹åæ ‡</span>
    strokeWidth<span class="token operator">:</span> Float <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>HairlineWidth<span class="token punctuation">,</span>
    cap<span class="token operator">:</span> StrokeCap <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>DefaultCap<span class="token punctuation">,</span>
    pathEffect<span class="token operator">:</span> PathEffect<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>

<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawLine</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    start<span class="token operator">:</span> Offset<span class="token punctuation">,</span>
    end<span class="token operator">:</span> Offset<span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> Float <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>HairlineWidth<span class="token punctuation">,</span>
    cap<span class="token operator">:</span> StrokeCap <span class="token operator">=</span> Stroke<span class="token punctuation">.</span>DefaultCap<span class="token punctuation">,</span>
    pathEffect<span class="token operator">:</span> PathEffect<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œç»˜åˆ¶çº¿å’Œç»˜åˆ¶ç‚¹çš„<code>drawPoints()</code>æ–¹æ³•å¾ˆåƒï¼Œåªæ˜¯ç»˜åˆ¶çº¿åªéœ€è¦æä¾›èµ·ç‚¹å’Œç»ˆç‚¹å³å¯ï¼Œç»˜åˆ¶ç‚¹åˆ™éœ€è¦æä¾›ä¸€ç³»åˆ—ç‚¹çš„åæ ‡ï¼ˆå¦‚æœè¦å®ç°æ¸å˜æ•ˆæœï¼Œåˆ™ä½¿ç”¨å…¶é‡è½½æ–¹æ³•ï¼Œå°†<code>color</code>å±æ€§æ¢æˆ<code>brush</code>ï¼Œå…³äºå¦‚ä½•ä½¿ç”¨<code>Brush</code>å®ç°æ¸å˜æ•ˆæœï¼Œè¯·å‚è€ƒ <a href="#brush%E7%BB%98%E5%88%B6%E6%B8%90%E5%8F%98">Brushç»˜åˆ¶æ¸å˜</a>ï¼‰</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawLine</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            start <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            end <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            strokeWidth <span class="token operator">=</span> <span class="token number">30f</span><span class="token punctuation">,</span>
            cap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Round
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607185227584.png" alt="image-20220607185227584" loading="lazy"></p></li></ul><h2 id="canvasç»˜åˆ¶çŸ©å½¢" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶çŸ©å½¢" aria-hidden="true">#</a> Canvasç»˜åˆ¶çŸ©å½¢</h2><ul><li><p>å¼•å…¥ï¼šç»˜åˆ¶çŸ©å½¢çš„æ–¹æ³•ä¹Ÿåœ¨<code>DrawScope</code>ä¸­å®šä¹‰ï¼Œå…¶æ–¹æ³•ä¸ºï¼š<code>drawRect()</code></p></li><li><p><code>drawRect()</code>çš„å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawRect</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>

<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawRect</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>drawRect()</code>æ–¹æ³•ä¸­ï¼Œæœ‰ä¸‰ä¸ªå¿…ä¼ å‚æ•°<code>color</code> or <code>brush</code>ã€<code>topLeft</code>ã€<code>size</code>ï¼Œå› ä¸ºè¿™æ˜¯ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢æœ€åŸºæœ¬å¿…å¤‡çš„å› ç´ ï¼Œç¼ºå°‘ä»»ä½•ä¸€ä¸ªï¼Œéƒ½ä¸èƒ½æ˜ç¡®åœ°ç”»å‡ºä¸€ä¸ªçŸ©å½¢</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawRect</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607190819084.png" alt="image-20220607190819084" loading="lazy"></p></li></ul><h3 id="æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬-style" tabindex="-1"><a class="header-anchor" href="#æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬-style" aria-hidden="true">#</a> æ²¡ä½“éªŒè¿‡çš„å…¨æ–°ç‰ˆæœ¬ï¼š<code>style</code></h3><ul><li><p>å¼•å…¥ï¼šä»ä¸Šé¢<code>drawRect()</code>çš„æ–¹æ³•å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ–¹æ³•çš„å‚æ•°å¤§ä½“äºå‰é¢çš„ç»˜åˆ¶ç‚¹å’Œç»˜åˆ¶çº¿çš„å‚æ•°ç›¸åŒï¼Œåªæœ‰ä¸€ä¸ª<code>style</code>çš„å‚æ•°åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡é‡åˆ°è¿‡ï¼Œå¯ä»¥çœ‹åˆ°å…¶ç±»å‹ä¸º<code>DrawStyle</code></p></li><li><p><code>DrwaStyle</code>çš„æºç ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">sealed</span> <span class="token keyword">class</span> DrawStyle
<span class="token comment">// é»˜è®¤å€¼ï¼Œå°†ç»˜åˆ¶çš„å½¢çŠ¶ç”¨ç»™å®šçš„é¢œè‰²æˆ–å›¾æ¡ˆå¡«å……</span>
<span class="token keyword">object</span> Fill <span class="token operator">:</span> <span class="token function">DrawStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * [DrawStyle] that provides information for drawing content with a stroke
 */</span>
<span class="token keyword">class</span> <span class="token function">Stroke</span><span class="token punctuation">(</span>
    <span class="token comment">// é…ç½®ç”»ç¬”(stoke)çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´ (pixel)</span>
    <span class="token keyword">val</span> width<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">,</span>

    <span class="token comment">// è®¾ç½®ç”»ç¬”(stoke)çš„æ–œè§’å€¼ï¼Œå½“è¿æ¥è§’åº¦å¾ˆé”åˆ©æ—¶ï¼Œæ­¤å‚æ•°ç”¨äºæ§åˆ¶æ–œè§’è¿æ¥çš„è§’åº¦ï¼Œå¿…é¡»å¤§äºç­‰äº0</span>
    <span class="token keyword">val</span> miter<span class="token operator">:</span> Float <span class="token operator">=</span> DefaultMiter<span class="token punctuation">,</span>

    <span class="token comment">// è®¾ç½®çº¿æ®µæœ«ç«¯çš„å½¢çŠ¶</span>
    <span class="token keyword">val</span> cap<span class="token operator">:</span> StrokeCap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Butt<span class="token punctuation">,</span>

    <span class="token comment">// è®¾ç½®ç›´çº¿å’Œæ›²çº¿æ®µåœ¨æè¾¹è·¯å¾„ä¸Šè¿æ¥çš„å¤„ç†æ–¹å¼ï¼Œé»˜è®¤å€¼ä¸ºStrokeJoin.Miter</span>
    <span class="token keyword">val</span> join<span class="token operator">:</span> StrokeJoin <span class="token operator">=</span> StrokeJoin<span class="token punctuation">.</span>Miter<span class="token punctuation">,</span>

    <span class="token comment">// åº”ç”¨äºç¬”ç”»çš„æ•ˆæœï¼Œnullè¡¨ç¤ºè¦ç»˜åˆ¶å®çº¿</span>
    <span class="token keyword">val</span> pathEffect<span class="token operator">:</span> PathEffect<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">DrawStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>

        <span class="token comment">/**
         * Width to indicate a hairline stroke of 1 pixel
         */</span>
        <span class="token keyword">const</span> <span class="token keyword">val</span> HairlineWidth <span class="token operator">=</span> <span class="token number">0.0f</span>

        <span class="token comment">/**
         * Default miter length used in combination with joins
         */</span>
        <span class="token keyword">const</span> <span class="token keyword">val</span> DefaultMiter<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">4.0f</span>

        <span class="token comment">/**
         * Default cap used for line endings
         */</span>
        <span class="token keyword">val</span> DefaultCap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Butt

        <span class="token comment">/**
         * Default join style used for connections between line and curve segments
         */</span>
        <span class="token keyword">val</span> DefaultJoin <span class="token operator">=</span> StrokeJoin<span class="token punctuation">.</span>Miter
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> other<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>other <span class="token operator">!</span><span class="token keyword">is</span> Stroke<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>width <span class="token operator">!=</span> other<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>miter <span class="token operator">!=</span> other<span class="token punctuation">.</span>miter<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cap <span class="token operator">!=</span> other<span class="token punctuation">.</span>cap<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>join <span class="token operator">!=</span> other<span class="token punctuation">.</span>join<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pathEffect <span class="token operator">!=</span> other<span class="token punctuation">.</span>pathEffect<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">var</span> result <span class="token operator">=</span> width<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> result <span class="token operator">+</span> miter<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> result <span class="token operator">+</span> cap<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> result <span class="token operator">+</span> join<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> result <span class="token operator">+</span> <span class="token punctuation">(</span>pathEffect<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?:</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string-literal singleline"><span class="token string">&quot;Stroke(width=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">width</span></span><span class="token string">, miter=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">miter</span></span><span class="token string">, cap=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">cap</span></span><span class="token string">, join=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">join</span></span><span class="token string">, pathEffect=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">pathEffect</span></span><span class="token string">)&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>DrawStyle</code>æ˜¯ä¸€ä¸ª<strong>å¯†å°ç±»</strong>ï¼Œä¸”æœ‰ä¸¤ä¸ªå­ç±»<code>Fill</code>å’Œ<code>Stroke</code>ï¼Œå‰è€…è¡¨ç¤ºå¡«å……ï¼Œåè€…ä¸ºæè¾¹ï¼Œé»˜è®¤ä¸ºå‰è€…</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawRect</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            style <span class="token operator">=</span> <span class="token function">Stroke</span><span class="token punctuation">(</span>
                width <span class="token operator">=</span> <span class="token number">30f</span><span class="token punctuation">,</span>
                miter <span class="token operator">=</span> <span class="token number">2f</span><span class="token punctuation">,</span>
                cap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Round
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607192358517.png" alt="image-20220607192358517" loading="lazy"></p></li><li><p>ç›¸å…³å‚æ•°ï¼š</p><ul><li><p>ä»ä¸Šé¢<code>Stroke</code>çš„æºç ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<code>join</code>å‚æ•°ï¼Œå…¶ç±»å‹ä¸º<code>StrokeJoin</code>ï¼Œè¿™åˆæ˜¯æˆ‘ä»¬ä¹‹å‰æ²¡é‡åˆ°çš„å‚æ•°ç±»å‹ï¼Œå…¶ä½œç”¨æ˜¯ç”¨æ¥è®¾ç½®ç›´çº¿æˆ–æ›²çº¿åœ¨æè¾¹è·¯å¾„ä¸Šè¿æ¥ç‚¹çš„å¤„ç†æ–¹å¼ï¼Œé»˜è®¤å€¼ä¸º <strong>StrokeJoin.Miter</strong></p></li><li><p><code>StokeJoin</code>ç±»çš„å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;INLINE_CLASS_DEPRECATED&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;EXPERIMENTAL_FEATURE_WARNING&quot;</span></span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Immutable</span>
<span class="token keyword">inline</span> <span class="token keyword">class</span> StrokeJoin <span class="token keyword">internal</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;unused&quot;</span></span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">val</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// è¿æ¥ç‚¹ä¸ºå°–è§’</span>
        <span class="token keyword">val</span> Miter <span class="token operator">=</span> <span class="token function">StrokeJoin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment">// è¿æ¥ç‚¹ä¸ºåŠåœ†</span>
        <span class="token keyword">val</span> Round <span class="token operator">=</span> <span class="token function">StrokeJoin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

       	<span class="token comment">// è¿æ¥ç‚¹ä¸ºæ–œè§’</span>
        <span class="token keyword">val</span> Bevel <span class="token operator">=</span> <span class="token function">StrokeJoin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ<code>StrokeJoin</code>æ˜¯ä¸€ä¸ªæšä¸¾ç±»ï¼Œæœ‰ä¸‰ä¸ªæšä¸¾é‡</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawRect</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            style <span class="token operator">=</span> <span class="token function">Stroke</span><span class="token punctuation">(</span>
                width <span class="token operator">=</span> <span class="token number">30f</span><span class="token punctuation">,</span>
                miter <span class="token operator">=</span> <span class="token number">2f</span><span class="token punctuation">,</span>
                cap <span class="token operator">=</span> StrokeCap<span class="token punctuation">.</span>Round<span class="token punctuation">,</span>
                join <span class="token operator">=</span> StrokeJoin<span class="token punctuation">.</span>Bevel
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607193128776.png" alt="image-20220607193128776" loading="lazy"></p></li></ul></li></ul><h3 id="ç»˜åˆ¶åœ†è§’çŸ©å½¢" tabindex="-1"><a class="header-anchor" href="#ç»˜åˆ¶åœ†è§’çŸ©å½¢" aria-hidden="true">#</a> ç»˜åˆ¶åœ†è§’çŸ©å½¢</h3><ul><li><p>å¼•å…¥ï¼šä¸Šè¿°çš„ç»˜åˆ¶çŸ©å½¢çš„æ–¹æ³•ï¼Œè™½ç„¶ä¹Ÿèƒ½è¾¾åˆ°ä¸€å®šçš„ä½¿çŸ©å½¢å‘ˆç°åœ†è§’çš„æ•ˆæœï¼Œä½†æ•ˆæœä¸å¤Ÿç†æƒ³ï¼Œå› æ­¤<code>DrawScope</code>æä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºç»˜åˆ¶åœ†è§’çŸ©å½¢çš„æ–¹æ³•<code>drawRoundRect()</code></p></li><li><p><code>drawRoundRect()</code>å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawRoundRect</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> CornerRadius <span class="token operator">=</span> CornerRadius<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>

<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawRoundRect</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> CornerRadius <span class="token operator">=</span> CornerRadius<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®ç°åœ†è§’çŸ©å½¢åœ†è§’å¤§å°çš„å…³é”®å‚æ•°<code>cornerRadius</code>ï¼š</p><ul><li><p><code>cornerRadius</code>å‚æ•°çš„ç±»å‹ä¸ºï¼š<code>CornerRadius</code></p></li><li><p><code>CornerRadius</code>çš„ç®€å•ä½¿ç”¨æ–¹æ³•ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Stable</span>
<span class="token keyword">fun</span> <span class="token function">CornerRadius</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Float<span class="token punctuation">,</span>y<span class="token operator">:</span> Float <span class="token operator">=</span> x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">CornerRadius</span><span class="token punctuation">(</span><span class="token function">packFloats</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawRoundRect</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            cornerRadius <span class="token operator">=</span> <span class="token function">CornerRadius</span><span class="token punctuation">(</span><span class="token number">20f</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607194312226.png" alt="image-20220607194312226" loading="lazy"></p></li></ul><h2 id="canvasç»˜åˆ¶åœ†åŠæ¤­åœ†" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶åœ†åŠæ¤­åœ†" aria-hidden="true">#</a> Canvasç»˜åˆ¶åœ†åŠæ¤­åœ†</h2><h3 id="ç»˜åˆ¶åœ†" tabindex="-1"><a class="header-anchor" href="#ç»˜åˆ¶åœ†" aria-hidden="true">#</a> ç»˜åˆ¶åœ†</h3><ul><li><p>æ­£å¦‚åœ†è§’çŸ©å½¢ä¸€æ ·ï¼Œ<code>DrawScope</code>ä¹Ÿæä¾›äº†ç»˜åˆ¶åœ†çš„æ–¹æ³•<code>drawCircle()</code></p></li><li><p><code>drawCircle()</code>å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    radius<span class="token operator">:</span> Float <span class="token operator">=</span> size<span class="token punctuation">.</span>minDimension <span class="token operator">/</span> <span class="token number">2.0f</span><span class="token punctuation">,</span>
    center<span class="token operator">:</span> Offset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    radius<span class="token operator">:</span> Float <span class="token operator">=</span> size<span class="token punctuation">.</span>minDimension <span class="token operator">/</span> <span class="token number">2.0f</span><span class="token punctuation">,</span>
    center<span class="token operator">:</span> Offset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­<code>colorFilter</code>è¡¨ç¤ºé¢œè‰²æ•ˆæœï¼Œ<code>blendMode</code>è¡¨ç¤ºæ··åˆæ¨¡å¼</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼šè¿™é‡Œåªæ¼”ç¤ºå®å¿ƒåœ†ï¼Œå¦‚æœè¦è¾¾åˆ°ç©ºå¿ƒçš„æ•ˆæœï¼Œå¯ä»¥å‚è€ƒ <a href="#%E6%B2%A1%E4%BD%93%E9%AA%8C%E8%BF%87%E7%9A%84%E5%85%A8%E6%96%B0%E7%89%88%E6%9C%AC-style">styleå®šåˆ¶</a></p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawCircle</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            radius <span class="token operator">=</span> <span class="token number">300f</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> center
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607204107916.png" alt="image-20220607204107916" loading="lazy"></p></li></ul><h3 id="ç»˜åˆ¶æ¤­åœ†" tabindex="-1"><a class="header-anchor" href="#ç»˜åˆ¶æ¤­åœ†" aria-hidden="true">#</a> ç»˜åˆ¶æ¤­åœ†</h3><ul><li><p>æ—¢ç„¶æœ‰åœ†å½¢çš„ç»˜åˆ¶æ–¹æ³•ï¼Œ<code>DrawScope</code>å½“ç„¶ä¹Ÿæä¾›äº†ç»˜åˆ¶æ¤­åœ†çš„æ–¹æ³•<code>drawOval()</code></p></li><li><p><code>drawOval()</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawOval</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>

<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawOval</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œç»˜åˆ¶æ¤­åœ†çš„æ–¹æ³•<code>drwaOval</code>çš„å‚æ•°ï¼Œå±…ç„¶ä¸ç»˜åˆ¶çŸ©å½¢çš„æ–¹æ³•<code>drawRect</code>ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºï¼Œç»˜åˆ¶æ¤­åœ†ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ä¸€ä¸ªçŸ©å½¢é‡Œé¢è¿›è¡Œè£å‡è€Œæ¥çš„ï¼ˆå†…åˆ‡ï¼‰ï¼Œæ‰€ä»¥è¦ç»˜åˆ¶æ¤­åœ†ï¼Œå®é™…å°±æ˜¯åœ¨ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢</p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawOval</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span>center<span class="token punctuation">.</span>x<span class="token punctuation">,</span>center<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">500f</span><span class="token punctuation">,</span><span class="token number">400f</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607205233331.png" alt="image-20220607205233331" loading="lazy"></p></li></ul><h2 id="canvasç»˜åˆ¶åœ†å¼§" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶åœ†å¼§" aria-hidden="true">#</a> Canvasç»˜åˆ¶åœ†å¼§</h2><ul><li><p>å¼•å…¥ï¼šä¸Šé¢æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ<code>DrawScope</code>æä¾›äº†ç»˜åˆ¶åœ†å’Œæ¤­åœ†çš„æ–¹æ³•ï¼Œä½†å¦‚æœæˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯ä¸€æ•´ä¸ªåœ†ï¼Œåªéœ€è¦ä¸€å°æ®µåœ†å¼§å‘¢ï¼Ÿä¸‡èƒ½çš„<code>DrawScope</code>å½“ç„¶ä¹Ÿæƒ³åˆ°äº†æˆ‘ä»¬çš„åˆé’»è¦æ±‚ï¼Œæ‰€ä»¥æä¾›äº†<code>drawArc()</code>æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºç»˜åˆ¶åœ†å¼§</p></li><li><p><code>drawArc()</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawArc</span><span class="token punctuation">(</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    startAngle<span class="token operator">:</span> Float<span class="token punctuation">,</span>
    sweepAngle<span class="token operator">:</span> Float<span class="token punctuation">,</span>
    useCenter<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawArc</span><span class="token punctuation">(</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    startAngle<span class="token operator">:</span> Float<span class="token punctuation">,</span>
    sweepAngle<span class="token operator">:</span> Float<span class="token punctuation">,</span>
    useCenter<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    topLeft<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    size<span class="token operator">:</span> Size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">offsetSize</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œå‚æ•°<code>startAngle</code>è¡¨ç¤ºåœ†å¼§çš„èµ·å§‹è§’åº¦ï¼Œå…¶ç±»å‹ä¸º <strong>Float</strong>ï¼›<code>sweepAngle</code>è¡¨ç¤ºç›¸å¯¹äº<code>startAngle</code>é¡ºæ—¶é’ˆç»˜åˆ¶çš„å¼§åº¦ï¼Œå…¶ç±»å‹ä¸º <strong>Float</strong>ï¼›<code>useCenter</code>è¡¨ç¤ºè®¾ç½®åœ†å¼§æ˜¯å¦è¦å…³é—­è¾¹ç•Œä¸­å¿ƒçš„æ ‡å‡†ï¼Œå…¶ç±»å‹ä¸º <strong>Boolean</strong></p></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><ul><li><p>ä¸å…³é—­è¾¹ç•Œä¸­å¿ƒï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawArc</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            startAngle <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">,</span>
            sweepAngle <span class="token operator">=</span> <span class="token number">80f</span><span class="token punctuation">,</span>
            useCenter <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607210255261.png" alt="image-20220607210255261" loading="lazy"></p></li><li><p>å…³é—­è¾¹ç•Œä¸­å¿ƒï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawArc</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            startAngle <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">,</span>
            sweepAngle <span class="token operator">=</span> <span class="token number">80f</span><span class="token punctuation">,</span>
            useCenter <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607210422908.png" alt="image-20220607210422908" loading="lazy"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>æ˜¯å¦å¼€å¯è¾¹ç•Œä¸­å¿ƒå°±æ˜¯æ˜¯å¦å°†èµ·ç‚¹å’Œç»ˆç‚¹ä¸åœ†å¿ƒç›¸è¿</strong></p></li><li><p>å•åœ†å¼§çº¿ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawArc</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            startAngle <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">,</span>
            sweepAngle <span class="token operator">=</span> <span class="token number">80f</span><span class="token punctuation">,</span>
            useCenter <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            style <span class="token operator">=</span> <span class="token function">Stroke</span><span class="token punctuation">(</span>width <span class="token operator">=</span> <span class="token number">10f</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607210652225.png" alt="image-20220607210652225" loading="lazy"></p></li></ul></li></ul><h2 id="canvasç»˜åˆ¶å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶å›¾ç‰‡" aria-hidden="true">#</a> Canvasç»˜åˆ¶å›¾ç‰‡</h2><ul><li><p>å¼•å…¥ï¼šå‰é¢éƒ½æ˜¯ç»˜åˆ¶å›¾å½¢ï¼Œä½†å¦‚æœæœ‰å›¾ç‰‡ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ç›´æ¥ç»˜åˆ¶å›¾ç‰‡ï¼Œå› ä¸º<code>DrawScope</code>ç”šè‡³ä¸ºæˆ‘ä»¬æä¾›äº†ä¸“é—¨ç»˜åˆ¶å›¾ç‰‡çš„æ–¹æ³•<code>drawImage()</code></p></li><li><p><code>drawImage()</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">drawImage</span><span class="token punctuation">(</span>
    image<span class="token operator">:</span> ImageBitmap<span class="token punctuation">,</span>
    srcOffset<span class="token operator">:</span> IntOffset <span class="token operator">=</span> IntOffset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    srcSize<span class="token operator">:</span> IntSize <span class="token operator">=</span> <span class="token function">IntSize</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>width<span class="token punctuation">,</span> image<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>
    dstOffset<span class="token operator">:</span> IntOffset <span class="token operator">=</span> IntOffset<span class="token punctuation">.</span>Zero<span class="token punctuation">,</span>
    dstSize<span class="token operator">:</span> IntSize <span class="token operator">=</span> srcSize<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å››ä¸ªé™Œç”Ÿå‚æ•°çš„ä½œç”¨ï¼šç»˜åˆ¶å›¾ç‰‡å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ª<code>dst</code>å›¾ç‰‡æ¡†ï¼Œå¹¶ç”¨<code>dstOffset</code>ã€<code>dstSize</code>è§„å®šå…¶å¤§å°å’Œåç§»ï¼Œç„¶åå»æ¡†è¦æ˜¾ç¤ºçš„å›¾ç‰‡<code>src</code>ï¼Œå¹¶ç”¨<code>srcOffset</code>ã€<code>srcSize</code>è§„å®šæºå›¾ç‰‡çš„å¤§å°å’Œåç§»</p><ul><li><code>srcOffset</code>ï¼šæŒ‡çš„æ˜¯è¦æ˜¾ç¤ºçš„å›¾ç‰‡è¦æ˜¾ç¤ºçš„åç§»é‡</li><li><code>srcSize</code>ï¼šæŒ‡çš„æ˜¯è¦æ˜¾ç¤ºçš„å›¾ç‰‡çš„åŒºåŸŸçš„å¤§å°</li><li><code>dstOffset</code>ï¼šæŒ‡çš„æ˜¯å›¾ç‰‡æ¡†çš„ä½ç½®çš„åç§»</li><li><code>dstSize</code>ï¼šæŒ‡çš„æ˜¯æ˜¾ç¤ºçš„å›¾ç‰‡æ¡†çš„å¤§å°</li></ul></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> context <span class="token operator">=</span> LocalContext<span class="token punctuation">.</span>current
    <span class="token keyword">val</span> bitmap <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>resources<span class="token punctuation">,</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>default_avatar<span class="token punctuation">)</span>
    <span class="token keyword">val</span> image <span class="token operator">=</span> bitmap<span class="token punctuation">.</span><span class="token function">asImageBitmap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawImage</span><span class="token punctuation">(</span>
            image <span class="token operator">=</span> image<span class="token punctuation">,</span>
            srcOffset <span class="token operator">=</span> <span class="token function">IntOffset</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            srcSize <span class="token operator">=</span> <span class="token function">IntSize</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            dstOffset <span class="token operator">=</span> <span class="token function">IntOffset</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            dstSize <span class="token operator">=</span> <span class="token function">IntSize</span><span class="token punctuation">(</span><span class="token number">6000</span><span class="token punctuation">,</span><span class="token number">6000</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœé¢„è§ˆï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607213235338.png" alt="image-20220607213235338" loading="lazy"></p></li></ul><h2 id="canvasç»˜åˆ¶è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#canvasç»˜åˆ¶è·¯å¾„" aria-hidden="true">#</a> Canvasç»˜åˆ¶è·¯å¾„</h2><ul><li><p>å¼•å…¥ï¼šä¸ç®¡æ˜¯ç»˜åˆ¶ç‚¹ã€è¿˜æ˜¯çº¿æ®µã€æ›²çº¿ï¼Œéƒ½åªèƒ½åº”å¯¹ç®€å•çš„å›¾å½¢ï¼Œå¦‚æœè¦ç»˜åˆ¶å¤æ‚å›¾å½¢ï¼Œæ˜¾ç„¶éœ€è¦è¿™äº›æ–¹æ³•çš„ç»„åˆè°ƒç”¨ï¼Œä½†è¿™æ ·å°±æœªå…æ˜¾å¾—ä»£ç è¿‡äºå†—é•¿ä¸”ä¸å¤Ÿä¼˜é›…ï¼Œå¯¹æ­¤ï¼Œ<code>DrawScope</code>ä¹Ÿä¸“é—¨æä¾›ç›¸åº”çš„ç»˜åˆ¶è·¯å¾„çš„æ–¹æ³•<code>drawPath()</code></p></li><li><p><code>drawPath()</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// æä¾›é¢œè‰²çš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawPath</span><span class="token punctuation">(</span>
    path<span class="token operator">:</span> Path<span class="token punctuation">,</span>
    color<span class="token operator">:</span> Color<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>

<span class="token comment">// æä¾›æ¸å˜æ–¹æ¡ˆçš„ç‰ˆæœ¬</span>
<span class="token keyword">fun</span> <span class="token function">drawPath</span><span class="token punctuation">(</span>
    path<span class="token operator">:</span> Path<span class="token punctuation">,</span>
    brush<span class="token operator">:</span> Brush<span class="token punctuation">,</span>
    <span class="token comment">/*@FloatRange(from = 0.0, to = 1.0)*/</span>
    alpha<span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> DrawStyle <span class="token operator">=</span> Fill<span class="token punctuation">,</span>
    colorFilter<span class="token operator">:</span> ColorFilter<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    blendMode<span class="token operator">:</span> BlendMode <span class="token operator">=</span> DefaultBlendMode
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ–¹æ³•å…¶å®å°±æ˜¯æŠŠæˆ‘ä»¬è¦ç»˜åˆ¶çš„è·¯å¾„ï¼Œå…¨éƒ½å°è£…åˆ°<code>path</code>é‡Œå»äº†ï¼Œå³<code>Path</code>ç±»å°†å¤šç§å¤åˆè·¯å¾„ï¼ˆç‚¹ã€ç›´çº¿ã€æ›²çº¿ï¼‰å°è£…åœ¨å…¶å†…éƒ¨</p></li><li><p>æ—¢ç„¶<code>Path</code>è¿™ä¹ˆå‰å®³ï¼Œé‚£å½“ç„¶å¾—æ¥çœ‹çœ‹å®ƒçš„æºç æ˜¯æ€ä¹ˆæ ·çš„äº†ï¼Œä¸‹é¢ç»™å‡ºå…¶æºç ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">expect</span> <span class="token keyword">fun</span> <span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Path	<span class="token comment">// å¯ä»¥é€šè¿‡Pathçš„æ–¹å¼è¿›è¡Œå®ä¾‹åŒ–</span>
<span class="token keyword">interface</span> Path <span class="token punctuation">{</span>
    <span class="token comment">// å†³å®šå¦‚ä½•è®¡ç®—è·¯å¾„</span>
    <span class="token keyword">var</span> fillType<span class="token operator">:</span> PathFillType

    <span class="token comment">// è¿”å›è·¯å¾„çš„å‡¸åº¦ï¼Œç”±è·¯å¾„çš„å†…å®¹å®šä¹‰</span>
    <span class="token keyword">val</span> isConvex<span class="token operator">:</span> Boolean

    <span class="token comment">// å¦‚æœè·¯å¾„ä¸ºç©ºï¼ˆæ²¡æœ‰çº¿ï¼Œåªæœ‰ç‚¹æˆ–æ²¡æœ‰ç‚¹ï¼‰ï¼Œåˆ™è¿”å›true</span>
    <span class="token keyword">val</span> isEmpty<span class="token operator">:</span> Boolean

    <span class="token comment">// åœ¨ç»™å®šåæ ‡å¤„å¼€å§‹ä¸€ä¸ªæ–°çš„å­è·¯å¾„(subpath)</span>
    <span class="token keyword">fun</span> <span class="token function">moveTo</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Float<span class="token punctuation">,</span> y<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">// ä»å½“å‰ç‚¹åˆ°ç»™å®šç‚¹åç§»é‡å¼€å§‹ä¸€ä¸ªæ–°çš„å­è·¯å¾„</span>
    <span class="token keyword">fun</span> <span class="token function">relativeMoveTo</span><span class="token punctuation">(</span>dx<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">// ä»å½“å‰ç‚¹åˆ°ç»™å®šç‚¹æ·»åŠ ä¸€æ¡ç›´çº¿æ®µ</span>
    <span class="token keyword">fun</span> <span class="token function">lineTo</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Float<span class="token punctuation">,</span> y<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">// ä»å½“å‰ç‚¹åˆ°ç»™ä¸å½“å‰ç‚¹ç›¸è·ç¦»ç»™å®šåç§»é‡çš„ç‚¹æ·»åŠ ä¸€æ¡ç›´çº¿æ®µ</span>
    <span class="token keyword">fun</span> <span class="token function">relativeLineTo</span><span class="token punctuation">(</span>dx<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">/**
     * Adds a quadratic bezier segment that curves from the current
     * point to the given point ([x2], [y2]), using the control point
     * ([x1], [y1]).
     */</span>
    <span class="token keyword">fun</span> <span class="token function">quadraticBezierTo</span><span class="token punctuation">(</span>x1<span class="token operator">:</span> Float<span class="token punctuation">,</span> y1<span class="token operator">:</span> Float<span class="token punctuation">,</span> x2<span class="token operator">:</span> Float<span class="token punctuation">,</span> y2<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">/**
     * Adds a quadratic bezier segment that curves from the current
     * point to the point at the offset ([dx2], [dy2]) from the current point,
     * using the control point at the offset ([dx1], [dy1]) from the current
     * point.
     */</span>
    <span class="token keyword">fun</span> <span class="token function">relativeQuadraticBezierTo</span><span class="token punctuation">(</span>dx1<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy1<span class="token operator">:</span> Float<span class="token punctuation">,</span> dx2<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy2<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">/**
     * Adds a cubic bezier segment that curves from the current point
     * to the given point ([x3], [y3]), using the control points ([x1], [y1]) and
     * ([x2], [y2]).
     */</span>
    <span class="token keyword">fun</span> <span class="token function">cubicTo</span><span class="token punctuation">(</span>x1<span class="token operator">:</span> Float<span class="token punctuation">,</span> y1<span class="token operator">:</span> Float<span class="token punctuation">,</span> x2<span class="token operator">:</span> Float<span class="token punctuation">,</span> y2<span class="token operator">:</span> Float<span class="token punctuation">,</span> x3<span class="token operator">:</span> Float<span class="token punctuation">,</span> y3<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">/**
     * Adds a cubic bezier segment that curves from the current point
     * to the point at the offset ([dx3], [dy3]) from the current point, using
     * the control points at the offsets ([dx1], [dy1]) and ([dx2], [dy2]) from the
     * current point.
     */</span>
    <span class="token keyword">fun</span> <span class="token function">relativeCubicTo</span><span class="token punctuation">(</span>dx1<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy1<span class="token operator">:</span> Float<span class="token punctuation">,</span> dx2<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy2<span class="token operator">:</span> Float<span class="token punctuation">,</span> dx3<span class="token operator">:</span> Float<span class="token punctuation">,</span> dy3<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">// å¦‚æœ[forceMoveTo]ä¸ºfalseï¼Œåˆ™æ·»åŠ ç›´çº¿æ®µæˆ–å¼§æ®µ</span>
    <span class="token comment">// å¦‚æœ[forceMoveTo]ä¸ºtrueï¼Œåˆ™å¯åŠ¨ä¸€ä¸ªæ–°çš„ç”±å¼§æ®µç»„æˆçš„å­è·¯å¾„</span>
    <span class="token keyword">fun</span> <span class="token function">arcToRad</span><span class="token punctuation">(</span>
        rect<span class="token operator">:</span> Rect<span class="token punctuation">,</span>
        startAngleRadians<span class="token operator">:</span> Float<span class="token punctuation">,</span>
        sweepAngleRadians<span class="token operator">:</span> Float<span class="token punctuation">,</span>
        forceMoveTo<span class="token operator">:</span> Boolean
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">arcTo</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token function">degrees</span><span class="token punctuation">(</span>startAngleRadians<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">degrees</span><span class="token punctuation">(</span>sweepAngleRadians<span class="token punctuation">)</span><span class="token punctuation">,</span> forceMoveTo<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¦‚æœ[forceMoveTo]ä¸ºfalseï¼Œåˆ™æ·»åŠ ç›´çº¿æ®µæˆ–å¼§æ®µ</span>
    <span class="token comment">// å¦‚æœ[forceMoveTo]ä¸ºtrueï¼Œåˆ™å¯åŠ¨ä¸€ä¸ªæ–°çš„ç”±å¼§æ®µç»„æˆçš„å­è·¯å¾„</span>
    <span class="token keyword">fun</span> <span class="token function">arcTo</span><span class="token punctuation">(</span>
        rect<span class="token operator">:</span> Rect<span class="token punctuation">,</span>
        startAngleDegrees<span class="token operator">:</span> Float<span class="token punctuation">,</span>
        sweepAngleDegrees<span class="token operator">:</span> Float<span class="token punctuation">,</span>
        forceMoveTo<span class="token operator">:</span> Boolean
    <span class="token punctuation">)</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªçŸ©å½¢</span>
    <span class="token keyword">fun</span> <span class="token function">addRect</span><span class="token punctuation">(</span>rect<span class="token operator">:</span> Rect<span class="token punctuation">)</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ¤­åœ†</span>
    <span class="token keyword">fun</span> <span class="token function">addOval</span><span class="token punctuation">(</span>oval<span class="token operator">:</span> Rect<span class="token punctuation">)</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ–°çš„å­è·¯å¾„ï¼Œè¯¥å­è·¯å¾„å…·æœ‰ä¸€ä¸ªå¼§æ®µ</span>
    <span class="token keyword">fun</span> <span class="token function">addArcRad</span><span class="token punctuation">(</span>oval<span class="token operator">:</span> Rect<span class="token punctuation">,</span> startAngleRadians<span class="token operator">:</span> Float<span class="token punctuation">,</span> sweepAngleRadians<span class="token operator">:</span> Float<span class="token punctuation">)</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ–°çš„å­è·¯å¾„ï¼Œè¯¥å­è·¯å¾„å…·æœ‰ä¸€ä¸ªå¼§æ®µï¼Œè¯¥å¼§æ®µç”±éµå¾ªç»™å®šçŸ©å½¢æ‰€ç•Œå®šçš„æ¤­åœ†è¾¹ç¼˜çš„å¼§ç»„æˆ</span>
    <span class="token keyword">fun</span> <span class="token function">addArc</span><span class="token punctuation">(</span>oval<span class="token operator">:</span> Rect<span class="token punctuation">,</span> startAngleDegrees<span class="token operator">:</span> Float<span class="token punctuation">,</span> sweepAngleDegrees<span class="token operator">:</span> Float<span class="token punctuation">)</span>

     <span class="token comment">// æ·»åŠ ä¸€ä¸ªåœ†è§’çŸ©å½¢</span>
    <span class="token keyword">fun</span> <span class="token function">addRoundRect</span><span class="token punctuation">(</span>roundRect<span class="token operator">:</span> RoundRect<span class="token punctuation">)</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ–°çš„å­è·¯å¾„ï¼Œè¯¥å­è·¯å¾„åŒ…å«ç»™å®šçš„â€œè·¯å¾„â€åç§»é‡å’Œç»™å®šçš„â€œåç§»é‡â€</span>
    <span class="token keyword">fun</span> <span class="token function">addPath</span><span class="token punctuation">(</span>path<span class="token operator">:</span> Path<span class="token punctuation">,</span> offset<span class="token operator">:</span> Offset <span class="token operator">=</span> Offset<span class="token punctuation">.</span>Zero<span class="token punctuation">)</span>

    <span class="token comment">// å°†æœ€åä¸€ä¸ªç‚¹ä¸èµ·ç‚¹è¿æ¥ï¼Œå·²è¾¾åˆ°å…³é—­ä¸€ä¸ªå­è·¯å¾„çš„æ•ˆæœ</span>
    <span class="token keyword">fun</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// æ¸…é™¤æ‰€æœ‰å­è·¯å¾„çš„[Path]å¯¹è±¡ï¼Œä½¿å…¶è¿”å›åˆ°åˆ›å»ºæ—¶çš„çŠ¶æ€</span>
    <span class="token keyword">fun</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// æŒ‰ç»™å®šåç§»é‡è½¬æ¢æ¯ä¸ªå­è·¯å¾„çš„æ‰€æœ‰çº¿æ®µ</span>
    <span class="token keyword">fun</span> <span class="token function">translate</span><span class="token punctuation">(</span>offset<span class="token operator">:</span> Offset<span class="token punctuation">)</span>

    <span class="token comment">// è®¡ç®—è·¯å¾„æ§åˆ¶ç‚¹çš„è¾¹ç•Œï¼Œå¹¶å°†ç»“æœå†™å…¥è¾¹ç•Œ</span>
    <span class="token keyword">fun</span> <span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Rect

    <span class="token comment">// å°†è·¯å¾„è®¾ç½®ä¸ºä¸¤ä¸ªæŒ‡å®šè·¯å¾„è¿›è¡ŒOpæ“ä½œçš„ç»“æœ</span>
    <span class="token keyword">fun</span> <span class="token function">op</span><span class="token punctuation">(</span>
        path1<span class="token operator">:</span> Path<span class="token punctuation">,</span>
        path2<span class="token operator">:</span> Path<span class="token punctuation">,</span>
        operation<span class="token operator">:</span> PathOperation
    <span class="token punctuation">)</span><span class="token operator">:</span> Boolean

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ ¹æ®ç»™å®šâ€œæ“ä½œâ€æŒ‡å®šçš„æ–¹å¼ç»„åˆä¸¤æ¡è·¯å¾„</span>
        <span class="token keyword">fun</span> <span class="token function">combine</span><span class="token punctuation">(</span>
            operation<span class="token operator">:</span> PathOperation<span class="token punctuation">,</span>
            path1<span class="token operator">:</span> Path<span class="token punctuation">,</span>
            path2<span class="token operator">:</span> Path
        <span class="token punctuation">)</span><span class="token operator">:</span> Path <span class="token punctuation">{</span>
            <span class="token keyword">val</span> path <span class="token operator">=</span> <span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">op</span><span class="token punctuation">(</span>path1<span class="token punctuation">,</span> path2<span class="token punctuation">,</span> operation<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> path
            <span class="token punctuation">}</span>
            <span class="token keyword">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span>
                <span class="token string-literal singleline"><span class="token string">&quot;Path.combine() failed.  This may be due an invalid &quot;</span></span> <span class="token operator">+</span>
                    <span class="token string-literal singleline"><span class="token string">&quot;path; in particular, check for NaN values.&quot;</span></span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š<strong>å¦‚æœæƒ³è¦å®šåˆ¶ç±»ä¼¼æµ·æµªèˆ¬çš„æ›²çº¿ï¼Œåˆ™å¯ä»¥ç”¨<code>Path</code>æä¾›çš„æœ‰å…³<code>è´å¡å°”æ›²çº¿</code>çš„ç»˜åˆ¶æ–¹æ³•ï¼Œé€šè¿‡æä¾›åˆé€‚çš„å‚æ•°ï¼Œå°±èƒ½ç”»å‡ºä»»æ„å½¢çŠ¶çš„æ›²çº¿</strong>ï¼Œå…·ä½“ä½¿ç”¨éœ€è¦æŸ¥çœ‹ç›¸åº”èµ„æ–™</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> path <span class="token operator">=</span> <span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100f</span><span class="token punctuation">,</span><span class="token number">700f</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">800f</span><span class="token punctuation">,</span><span class="token number">700f</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">900f</span><span class="token punctuation">,</span><span class="token number">300f</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">600f</span><span class="token punctuation">,</span><span class="token number">100f</span><span class="token punctuation">)</span>
    path<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawPath</span><span class="token punctuation">(</span>
            path <span class="token operator">=</span> path<span class="token punctuation">,</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            style <span class="token operator">=</span> <span class="token function">Stroke</span><span class="token punctuation">(</span>
                width <span class="token operator">=</span> <span class="token number">10f</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607222226326.png" alt="image-20220607222226326" loading="lazy"></p></li></ul><h2 id="æ··åˆæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#æ··åˆæ¨¡å¼" aria-hidden="true">#</a> æ··åˆæ¨¡å¼</h2><p>è·Ÿ Android View ä¸­ä¸€æ ·ï¼ŒCompose åœ¨è‡ªå®šä¹‰ View æ—¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç›¸åº”çš„<strong>æ··åˆæ¨¡å¼</strong>ï¼Œä»è€Œè‡ªå®šä¹‰å‡ºå¾ˆå¤šç‚«é…·çš„åŠŸèƒ½</p><ul><li><p>ä¸‹é¢ç»™å‡º Android View ä¸­æä¾›çš„ 18 ä¸­æ··åˆæ¨¡å¼å›¾è§£ï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/20200406215604618.jpeg" alt="Android View ä¸­æä¾›çš„ 18 ä¸­æ··åˆæ¨¡å¼å›¾è§£" loading="lazy"></p></li><li><p>ç›¸æ¯”äº Android View æä¾›çš„ 18 ç§æ··åˆæ¨¡å¼ï¼ŒCompose åœ¨ Android View çš„åŸºç¡€ä¸Šï¼Œåˆå¢åŠ äº† 11 ç§æ–°çš„æ··åˆæ¨¡å¼ï¼š</p><ul><li><p>ä¸‹é¢ç»™å‡º Compose ä¸­æ··åˆæ¨¡å¼<code>BlendMode</code>çš„æºç ï¼Œé‡Œé¢æ¸…æ™°å®šä¹‰äº† Compose ä¸­çš„ 29 ç§æ··åˆæ¨¡å¼ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;INLINE_CLASS_DEPRECATED&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;EXPERIMENTAL_FEATURE_WARNING&quot;</span></span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Immutable</span>
<span class="token keyword">inline</span> <span class="token keyword">class</span> BlendMode <span class="token keyword">internal</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;unused&quot;</span></span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">val</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>

        <span class="token comment">/**
         * åˆ é™¤æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡
         */</span>
        <span class="token keyword">val</span> Clear <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ”¾ç½®ç›®æ ‡å›¾ç‰‡ï¼Œä»…ç»˜åˆ¶æºå›¾ç‰‡
         */</span>
        <span class="token keyword">val</span> Src <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ”¾ç½®æºå›¾ç‰‡ï¼Œä»…ç»˜åˆ¶ç›®æ ‡å›¾ç‰‡
         */</span>
        <span class="token keyword">val</span> Dst <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡åˆæˆåˆ°ç›®æ ‡å›¾ç‰‡ä¸Š
         */</span>
        <span class="token keyword">val</span> SrcOver <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡åˆæˆåˆ°ç›®æ ‡å›¾ç‰‡ä¸‹
         */</span>
        <span class="token keyword">val</span> DstOver <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ˜¾ç¤ºæºå›¾ç‰‡ï¼Œä½†ä»…æ˜¾ç¤ºä¸¤å¼ å›¾é‡å çš„ä½ç½®
         */</span>
        <span class="token keyword">val</span> SrcIn <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ˜¾ç¤ºç›®æ ‡å›¾ç‰‡ï¼Œä½†ä»…æ˜¾ç¤ºä¸¤å¼ å›¾ç‰‡é‡å çš„ä½ç½®
         */</span>
        <span class="token keyword">val</span> DstIn <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ˜¾ç¤ºæºå›¾ç‰‡ï¼Œä½†ä»…æ˜¾ç¤ºä¸¤å¼ å›¾ç‰‡ä¸é‡å çš„ä½ç½®
         */</span>
        <span class="token keyword">val</span> SrcOut <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * æ˜¾ç¤ºç›®æ ‡å›¾ç‰‡ï¼Œä½†ä»…æ˜¾ç¤ºä¸¤å¼ å›¾ç‰‡ä¸é‡å çš„ä½ç½®
         */</span>
        <span class="token keyword">val</span> DstOut <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡åˆæˆåˆ°ç›®æ ‡å›¾ç‰‡ä¸Šï¼Œä½†ä»…åœ¨ä¸ç›®æ ‡å›¾ç‰‡é‡å çš„ä½ç½®åˆæˆ
         */</span>
        <span class="token keyword">val</span> SrcAtop <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†ç›®æ ‡å›¾ç‰‡åˆæˆåˆ°æºå›¾ç‰‡ä¸Šï¼Œä½†ä»…åœ¨ä¸æºå›¾ç‰‡é‡å çš„ä½ç½®åˆæˆ
         */</span>
        <span class="token keyword">val</span> DstAtop <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å¯¹æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡åº”ç”¨æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼Œè¿™å°†ä½¿å®ƒä»¬é‡å çš„åœ°æ–¹ä¿æŒé€æ˜
         */</span>
        <span class="token keyword">val</span> Xor <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„ç»„æˆéƒ¨åˆ†æ±‚å’Œ
         */</span>
        <span class="token keyword">val</span> Plus <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„é¢œè‰²åˆ†é‡ç›¸ä¹˜
         */</span>
        <span class="token keyword">val</span> Modulate <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„åˆ†é‡çš„é€†å€¼ç›¸ä¹˜ï¼Œç„¶åå°†ç»“æœç›¸é€†
         */</span>
        <span class="token keyword">val</span> Screen <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token comment">// The last coeff mode.</span>

        <span class="token comment">/**
         * è°ƒæ•´æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„åˆ†é‡ä»¥ä½¿å…¶é€‚åˆç›®æ ‡ï¼Œç„¶åå°†å®ƒä»¬ç›¸ä¹˜
         */</span>
        <span class="token keyword">val</span> Overlay <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * é€šè¿‡ä»æ¯ä¸ªé¢œè‰²é€šé“ä¸­é€‰æ‹©æœ€å°å€¼æ¥åˆæˆæºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡
         */</span>
        <span class="token keyword">val</span> Darken <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * é€šè¿‡ä»æ¯ä¸ªé¢œè‰²é€šé“ä¸­é€‰æ‹©æœ€å¤§å€¼æ¥åˆæˆæºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡
         */</span>
        <span class="token keyword">val</span> Lighten <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†ç›®æ ‡é™¤ä»¥æºçš„å€’æ•°
         */</span>
        <span class="token keyword">val</span> ColorDodge <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†ç›®æ ‡çš„å€’æ•°é™¤ä»¥æºï¼Œç„¶åå°†ç»“æœæ±‚å€’æ•°
         */</span>
        <span class="token keyword">val</span> ColorBurn <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * è°ƒæ•´æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„åˆ†é‡ä»¥ä½¿å…¶é€‚åˆæºå›¾ç‰‡ï¼Œç„¶åå°†å®ƒä»¬ç›¸ä¹˜
         */</span>
        <span class="token keyword">val</span> Hardlight <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å¯¹äºå°äº0.5çš„æºå€¼ä½¿ç”¨ColorDodgeï¼Œå¯¹äºå¤§äº0.5çš„æºå€¼ä½¿ç”¨ColorBurn
         */</span>
        <span class="token keyword">val</span> Softlight <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * ä»æ¯ä¸ªé€šé“çš„è¾ƒå¤§å€¼ä¸­å‡å»è¾ƒå°å€¼
         */</span>
        <span class="token keyword">val</span> Difference <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * ä»ä¸¤å¼ å›¾ç‰‡çš„æ€»å’Œä¸­å‡å»ä¸¤å¼ å›¾ç‰‡ä¹˜ç§¯çš„ä¸¤å€
         */</span>
        <span class="token keyword">val</span> Exclusion <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * å°†æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„åˆ†é‡ï¼ˆåŒ…æ‹¬Alphaé€šé“ï¼‰ç›¸ä¹˜
         */</span>
        <span class="token keyword">val</span> Multiply <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token comment">// The last separable mode.</span>

        <span class="token comment">/**
         * è·å–æºå›¾ç‰‡çš„è‰²ç›¸ä»¥åŠç›®æ ‡å›¾ç‰‡çš„é¥±å’Œåº¦å’Œå…‰åº¦
         */</span>
        <span class="token keyword">val</span> Hue <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * è·å–æºå›¾ç‰‡çš„é¥±å’Œåº¦ä»¥åŠç›®æ ‡å›¾ç‰‡çš„è‰²ç›¸å’Œäº®åº¦
         */</span>
        <span class="token keyword">val</span> Saturation <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * è·å–æºå›¾ç‰‡çš„è‰²ç›¸å’Œé¥±å’Œåº¦ä»¥åŠç›®æ ‡å›¾ç‰‡çš„å…‰åº¦
         */</span>
        <span class="token keyword">val</span> Color <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span>

        <span class="token comment">/**
         * è·å–æºå›¾ç‰‡çš„äº®åº¦ä»¥åŠç›®æ ‡å›¾ç‰‡çš„è‰²ç›¸å’Œé¥±å’Œåº¦
         */</span>
        <span class="token keyword">val</span> Luminosity <span class="token operator">=</span> <span class="token function">BlendMode</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// çœç•¥...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„ä»£ç å’Œæ³¨é‡Šä¸­ï¼Œå¯ä»¥çœ‹åˆ° Compose æä¾›äº† 29 ç§æ··åˆæ¨¡å¼ï¼Œä»¥åŠç›¸åº”çš„æ¨¡å¼çš„ä½œç”¨</p></li></ul></li><li><p>ä½¿ç”¨å®ä¾‹ï¼š</p><div class="language-kotlin ext-kt line-numbers-mode"><pre class="language-kotlin"><code><span class="token annotation builtin">@Preview</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword">fun</span> <span class="token function">CustomViewTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Canvas</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">drawCircle</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Yellow<span class="token punctuation">,</span>
            radius <span class="token operator">=</span> <span class="token number">175f</span><span class="token punctuation">,</span>
            center <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">350f</span><span class="token punctuation">,</span> <span class="token number">350f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            blendMode <span class="token operator">=</span> BlendMode<span class="token punctuation">.</span>Clear
        <span class="token punctuation">)</span>
        <span class="token function">drawRect</span><span class="token punctuation">(</span>
            color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">,</span>
            topLeft <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">300f</span><span class="token punctuation">,</span> <span class="token number">300f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            size <span class="token operator">=</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token number">350f</span><span class="token punctuation">,</span> <span class="token number">350f</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            blendMode <span class="token operator">=</span> BlendMode<span class="token punctuation">.</span>Clear
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»˜åˆ¶äº†ä¸€ä¸ªåœ†å’Œä¸€ä¸ªçŸ©å½¢ï¼Œåœ†ä»£è¡¨ç›®æ ‡å›¾ç‰‡Dstï¼ŒçŸ©å½¢ä»£è¡¨æºå›¾ç‰‡Srcï¼Œç„¶åå°†æ··åˆæ¨¡å¼éƒ½è®¾ç½®ä¸ºBlendMode.Clearã€‚å³åˆ é™¤æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡</p><p>é¢„è§ˆæ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220607224055078.png" alt="image-20220607224055078" loading="lazy"></p></li></ul><h2 id="å‚è€ƒ-æ¨èèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ-æ¨èèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒ/æ¨èèµ„æ–™</h2><ul><li>Jetpack Compose - æœ±æ±Ÿï¼šè‡ªå®šä¹‰Viewç« èŠ‚</li><li><a href="https://blog.csdn.net/u010976213/article/details/115209804" target="_blank" rel="noopener noreferrer">Compose 29ç§æ··åˆæ¨¡å¼ä½¿ç”¨ç¤ºä¾‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://blog.csdn.net/u010976213/article/details/122709083" target="_blank" rel="noopener noreferrer">Compose Canvas ç»˜åˆ¶å›¾å½¢å®é™…æ ·ä¾‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><!--]--></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/6/7 14:54:20</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: CoderWdd@gmail.com">CoderWdd</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/Android/Intermediate/Compose%E6%9E%B6%E6%9E%84%E5%88%86%E5%B1%82.html" class="nav-link prev" aria-label="Composeæ¶æ„åˆ†å±‚"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Composeæ¶æ„åˆ†å±‚</div></a><a href="/Android/Intermediate/Compose%E5%8A%A8%E7%94%BB.html" class="nav-link next" aria-label="ComposeåŠ¨ç”»"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ComposeåŠ¨ç”»<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">å´æŸäººæ—¥å¯„</div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.ac0a5f4e.js" defer></script>
  </body>
</html>
