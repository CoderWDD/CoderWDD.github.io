---
category:
  - Frontend
index : 4
title :  CSS盒子
---

## 盒子模型

- 网页布局过程：

  - 先准备好相关的网页元素，网页元素基本都是盒子Box

  - 利用CSS设置好盒子样式，然后摆放到相应位置

  - 往盒子里面装内容

  - 网页的核心本质：利用CSS摆盒子


### 盒子模型（Box Model）组成

- 所谓盒子模型：就是把HTML页面中的布局元素看作是一个矩形的盒子，也就是一个盛装内容的容器
- CSS盒子模型本质上是一个盒子，封装周围的HTML元素，它包括：边框、外边距、内边距和实际内容

![image-20220612190707326](https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220612190707326.png)

### 边框

- border可以设置元素的边框。边框有三部分组成：边框宽度、边框样式和边框颜色

- 基本语法格式如下

  ```css
  border : border-width || border-style || border-color
  ```

  - border-width：定义边框粗细，单位是px

  - border-style：边框的样式
    - solid：实线边框
    - dashed：虚线边框
    - dotted：点线边框


  - border-color：边框的颜色


#### 边框的简写

```html
border : 1px solid red; 	没有顺序
```

#### 边框分开写法

```html
border-top : 5px solid pink;
border-bottom :6px dashed green;
```

#### 表格的细线边框

- border-collapse属性控制浏览器绘制表格边框的方式。他控制相邻单元格的边框

- 基本语法格式如下

  ```css
  border-collapse: cpllapse;
  ```

  - collapse是单词合并的意思

  - border- collapse: collapse;  表示相邻边框合并到一起


#### 边框会影响盒子的实际大小

- 边框会增加盒子的实际大小。我们有两种解决方案：

  - 测量盒子的大小时，不量边框

  - 如果测量的时候包含了边框，则需要 width / height 减去边框宽度


#### 内边距

- padding属性用于设置内边距，即边框与内容之间的距离

![image-20220612190949625](https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220612190949625.png)

#### padding复合属性

![image-20220612191019899](https://raw.githubusercontent.com/CoderWDD/myImages/main/blog_images/image-20220612191019899.png)

- 当我们给盒子指定padding值后，发生了两件事情：

  - 内容和边框有了距离，增加了内边距


  - padding影响了盒子的实际大小

    也就是说，如果盒子已经有了宽度和高度，此时再指定内边框会撑大盒子


解决方案：用 width/height减去多出来的内边距大小

如果盒子本身没有指定width/height属性，此时padding不会撑开盒子大小

#### 外边距

- margin属性用于设置外边距，即控制盒子与盒子之间的距离，属性和padding一样

- 外边距的运用

  - 外边距可以让块级盒子水平居中，但必须满足两个条件

    - 盒子必须指定宽度
    - 盒子的左右外边距都设置为auto

      ```css
      .header { width: 960px; margin: 0 auto;}
      ```


常见的写法，以下三种都可以：

- margin-left auto； margin-right auto；
- margin：auto；
- margin：0 auto；

注意：以上方法是让块级元素水平居中，行内元素或者行内块元素水平居中给其父元素添加text-align-center即可

#### 外边距合并

- 使用margin定义块元素的垂直外边距时，可能会出现外边距的合并。主要有以下两种情况：

- 相邻块元素垂直外边距的合并

   - 当上下相邻的两个块元素（兄弟关系）相遇时，如果上面的元素有下外边距，下面的元素有上外边距，则他们之间的垂直间距是两个值中的较大者。这种现象被称为相邻块元素垂直外边距的合并

   - 解决方法：只给一个盒子定义外边距

- 嵌套块元素垂直外边距的塌陷

  - 对于两个嵌套关系（父子关系）的块元素，父元素有上外边距的同时子元素也有上外边距，此时父元素会塌陷较大的外边距值

  - 解决方法

    - 可以为父元素定义上边框

    - 可以为父元素定义上内边距

    - 可以为父元素添加overflow：hidden


#### 清除内外边距

- 网页元素很多都带有内外边距，而且不同浏览器默认的也不一致。因此我们在布局前，首先要清楚下网页元素的内外边距

```css
* {
		padding: 0;			//清除内边距
		margin: 0;			//清除外边距
}
```

注意：行内元素为了照顾兼容性，尽量只设置左右内外边距，不要设置上下内外边距。但是转换为块级元素和行内块元素就可以了

#### 圆角边框

- border-radius属性用于设置元素的外边框圆角，基本语法格式如下：

```css
border-radius:length
```

- radius 半径（圆的半径）远离：（椭）圆与边框的交集形成圆角效果

## 浮动

- 浮动最典型的应用：可以让多个块级元素一行内排列显示
- 网页布局第一准则：多个块级元素纵向排列找标准流，多个块级元素横向排列找浮动
- float属性用于创建浮动框，将其移动到另一边，知道左边缘或右边缘触及包含块或另一个浮动框的边缘，基本语法格式如下：	

```css
选择器 {
	float: 属性值
}
```

- none（默认）：元素不浮动

- left：元素往左浮动


- right：元素往右浮动

#### 浮动特性

1、浮动元素会脱离标准流

- 脱离标准流的控制，移动到指定位置
- 浮动的盒子不再保留原先的位置

2、如果多个盒子都设置了浮动，则他们会按照属性值在一行内显示并且顶部对齐排列

- 浮动的元素是互相贴靠在一起的（不会有缝隙），如果父级宽度装不下这些浮动的盒子，多出的盒子会另起一行对齐

3、浮动的元素会具有行内块元素的特效（行元素类似）

- 如果块级元素有了浮动特性，则可以设置高度和宽度
- 如果块级盒子没有设置宽度，默认宽度和父级一样宽，但是添加浮动之后，他的大小根据内容来决定
- 浮动的盒子中间是没有缝隙的，是紧挨在一起的

#### 浮动元素经常和父级搭配使用

		为了约束浮动元素位置，我们网页布局一般采取的策略是：<font color="red">先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置，符合网页布局第一准则。</font>

#### 浮动布局注意点

1、浮动和标准流的父盒子搭配

		先用标准流的父盒子排列上下位置，之后内部子元素采取浮动排列左右位置

2、一个元素浮动了，理论上其余的兄弟元素也要浮动

		一个盒子里面有多个子盒子，如果其中一个盒子浮动了，那么其他兄弟也该浮动，以防止出现问题。<font color='red'>浮动的盒子只会影响浮动盒子后面的标准流，不会影响前面的标准流。</font>

#### 清除浮动

		由于伏击盒子很多情况下，不方便給高度，但是子盒子浮动又不占有位置，最后父级盒子高度为0时，就会影响下面的标准流盒子

- 由于浮动元素不再占用原文档流的位置，所以他会对后面的元素排版产生影响

- 清除浮动的本质是清楚浮动元素造成的影响

- 如果父级盒子本身有高度，则不需要清除浮动

- 清除浮动之后，父级就会根据浮动的子盒子自动检测高度。父级有了高度，就不会影响下面的标准流

  基本语法格式如下：

  ```html
  选择器{clear : 属性值;}
  ```

  >left：不允许左侧有浮动元素（清除左侧浮动的影响）
  >
  >right：不允许右侧有浮动元素（清除右侧浮动的影响）
  >
  >both：同时清除左右两侧浮动的影响 

## 清除浮动的方法

#### 额外标签法

会在浮动元素末尾添加一个空的标签。例如&lt;div style="clear:both"&gt;&lt;/div&gt;，或者其他标签（如&lt;br/&gt;等）

- 优点：通俗易懂，书写方便
- 缺点：添加许多无意义的标签，结构化较差

新添加的盒子必须是块级元素，不能是行内元素

#### 父级添加overflow

- 可以给父级添加overfl属性，将其属性值设置为hidden、auto或者scroll，注意是给父元素添加代码

  - 优点：代码简介

  - 缺点：无法显示溢出的部分


#### ：after伪元素法

：after方式是额外标签法的升级版，也是给父元素添加

```css
.clearfix:after{
	content: "";
	display: block;
	height: 0;
	clear: both;
	visibility: hidden;
}

.clearfix {  //IE6、7专用
	*zoom: 1;
}
```

- 优点：没有增加标签，结构更简单
- 缺点：照顾低版本浏览器

#### 双伪元素清除浮动

也是给父元素添加

 ```css
 .clearfix: before,.clearfix: after {
 	content: "";
 	display: table;
 }
 .clearfix: after {
 	clear: both;
 }
 .clearfix{
 	*zoom: 1;
 }
 ```

- 优点：代码更简洁
- 缺点：照顾低版本浏览器

## CSS书写顺序（学成在线示例）

建议遵循以下顺序

1、布局定位属性：display/position/float/clear/visibility/overflow（建议display第一个写，关系到模式

2、自身属性：width/height/margin/padding/border/background

3、文本属性：color/font/text-decoration/text-align/vertical-align/white-space/break-word

4、其他属性（CSS3）：content/cursor/border-radius/box-shadow/text-shadow/background:linear-gradient…

#### 实际开发导航栏

实际开发中，我们不会直接用链接a，而是用li包含链接（li+a）的做法

1、li+a 语义更清晰，一看这就是有条理的列表型内容。

2、如果直接用a，搜索引擎容易辨别伪有堆砌饿关键字嫌疑（故意堆砌关键字容易被搜索引擎有降权的风险），从而影响网站排名。

#### 注意

1、让导航栏一行显示，给 li 加浮动，因为 li 是块级元素，需要一行显示

2、这个nav导航栏可以不给宽度，将来可以继续添加其余文字

3、因为导航栏里边文字不一样多，所以最好给链接 a 左右padding撑开盒子，而不是指定宽度

## 定位

- 某个元素可以自由的在一个盒子内移动位置，并且压住其他的盒子
- 当我们滚动窗口的时候，盒子是固定屏幕某个位置的

> 浮动可以让多个块极盒子一行没有缝隙排列显示，经常用于横向排列盒子
>
> 定位则是可以让盒子自由的在某个盒子内移动位置或者固定屏幕中某个位置，并且可以压住其他的盒子

#### 定位组成

- 定位：将盒子定在某一个位置，所以定位也是在摆放盒子，按照定位的方式移动盒子
- 定位=定位模式+边偏移：定位模式用于指定一个元素在文档中的定位方式，边偏移则确定了该元素的最终位置

#### 定位模式

- 定位模式决定元素的定位方式，他通过CSS的position属性来设置，其值可以分为四个：
  - static：静态定位
  - relative：相对定位
  - absolute：绝对定位
  - fixed：固定定位

#### 边偏移

- 边偏移就是定位的盒子移动到最终位置。有top、bottom、left、right四个属性
  - top：顶端偏移量，定义元素相对于其父元素上边线的距离
  - bottom：底部偏移量，定义元素相对于其父元素下边线的距离
  - left：左侧偏移量，定义元素相对于其父元素左边线的距离
  - right：右侧偏移量，定义元素相对于其父元素有边线的距离 

#### 静态定位

静态定位是元素的默认定位方式，无定位的意思

语法：

```html
选择器：{ position : static; }
```

- 静态定位按照标准留特性摆放位置，他没有边偏移
- 静态定位在布局时很少用到（可以看作标准流）

#### 相对定位

相对定位是元素在移动位置时，是相对于他原来的位置来说的

语法：

```html
选择器：{ position : relative; }
```

- 他是相对于自己原来的位置来移动的（移动位置的时候参照点是自己原来的位置）。
- 原来在标准流的位置继续占有，后面的盒子任然以标准流的方式对待他 

因此，相对定位并没有脱标，他最典型的应用是给绝对定位当爹（用来限制绝对定位）。

#### 绝对定位

绝对定位是在元素移动位置的时候，是相对于他的祖先元素来说的。

语法：

```html
选择器 { position : absolute; }
```

- 如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位（Document文档）
- 如果祖先元素有定位，则以最近一级的有定位的祖先元素作为参考点移动位置
- 绝对定位不在占有原先的位置

>相对定位限制绝对定位：子级使用绝对定位，父级就要使用相对定位

- 子级使用绝对定位，不会占有位置，可以放到父级盒子里面的任何一个地方，不会影响其他的兄弟盒子
- 父盒子需要加定位限制子盒子在父盒子内显示
- 父盒子布局时需要占有位置，因此父亲只能是相对定位

#### 固定定位

固定定位是元素固定于浏览器可视区的位置，主要使用场景：可以在浏览器页面滚动时元素的位置不会改变

语法

```html
选择器 { position : fixed; }
```

- 以浏览器的可视窗口为参照点 移动元素。

>跟父元素没有任何关系

> 不随滚动条滚动

- 固定定位不在占有原先的位置

> 固定定位也是脱标的，其实固定定位也可以看作是一种特殊的绝对定位

- 固定定位小技巧：固定在板心右侧
  - 让固定定位的盒子left：50%，走到浏览器可视区（也可以看作版心）的一半位置
  - 让固定定位的盒子margin-left：板心宽度的一半位置

#### 粘性定位

粘性定位可以被认为是相对定位和固定定位的混合。

语法：

```html
选择器 { position: sticky; top: 10px; }
```

- 以浏览器的可视窗口为参照点移动元素
- 粘性定位占有原先的位置
- 必须添加top、left、right、bottom其中一个才有效
- 跟页面滚动搭配使用、兼容性较差，IE不支持

#### 定位叠放次序

在使用定位布局时，可能会出现盒子重叠的情况。此时，通过 z-index 来控制盒子的前后顺序（z 轴）

语法：

```html
选择器 { z-index: 1; }
```

- 数值可以是正整数、负整数或0，默认是auto，数值越大，盒子越靠上。
-  如果属性值相同，则按照书写顺序，后来居上。
- 数字后面没有单位
- 只有定位的盒子才有z-index属性

#### 绝对定位的盒子居中

加了绝对定位的盒子不能通过margin: 0 auto 实现水平居中，但是可以通过以下计算方法实现水平和垂直居中

> left： %50；、

> margin-left：-盒子宽度的一半

垂直居中

>top： 50%;

>Margin-top：-盒子高度的一半

#### 定位特殊性质

绝对定位和固定定位也和浮动类似

- 行内元素添加绝对定位活着固定定位，可以直接设置高度和宽度
- 块级元素添加绝对定位活着固定定位，如果不给宽度或者高度，默认大小是内容的大小
- 脱标的盒子不会触发外边距塌陷，浮动元素、结对定位(固定定位)的元素都不会触发外边距合并的问题。

#### 绝对定位（固定定位）会完全压住盒子

- 浮动元素不同，只会压住她下面标准流的盒子，但是不会压住下面标准流盒子里面的文字（图片）

- 但是绝对定位（固定定位）会压住下面标准流所有的内容
- 浮动之所以不会压住文字，因为浮动产生的目的最初是为了做文字环绕效果的，文字会围绕浮动元素

## 元素的显示与隐藏

#### display属性

display属性用于设置一个元素应该如何显示

- display：none；隐藏对象
- displagy：block；除了转换为块级元素之外，同时还有显示元素的意思
- display隐藏元素后，不在占有原来的位置

#### visibility可见性

visibility属性用于指定一个元素应该可见还是隐藏

- visibility：visible；元素可视
- visibility：hidden；元素隐藏
- visibility隐藏元素后，继续占有原来的位置

#### overflow溢出

overflow 属性置顶了如果内容已出一个元素的框（超过其指定高度及宽度）时，会发生什么

- visible：不剪切内容也不添加滚动条
- hidden：不限时超出对象尺寸的内容，超出的部分隐藏掉
- scroll：不管超出内容与否，总是显示滚动条
- auto：超出自动显示滚动条，不超出不娴熟滚动条

一般情况下，我们都不想让溢出的内容显示出来，因为溢出的部分会影响布局

但是如果有定位的盒子，需要谨慎使用 overflower：hidden 因为他会隐藏多余的部分。

