---
category:
  - Frontend
index : 2
title :  è¯­è¨€åŸºç¡€
---

# è¯­æ³•

## åŒºåˆ†å¤§å°å†™

ES ä¸­ä¸€åˆ‡éƒ½åŒºåˆ†å¤§å°å†™ã€‚å˜é‡ test å’Œ å˜é‡ Test æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ã€‚typeof ä¸èƒ½ä½œä¸ºå‡½æ•°åï¼Œè€Œ Typeof æ˜¯ä¸€ä¸ªå®Œå…¨æœ‰æ•ˆçš„å‡½æ•°å

- å…³é”®å­—ã€ä¿ç•™å­—ã€trueã€false å’Œ null ä¸èƒ½ä½œä¸ºæ ‡è¯†ç¬¦ã€‚

## ä¸¥æ ¼æ¨¡å¼

- æ•´ä¸ªè„šæœ¬å¯åŠ¨ä¸¥æ ¼æ¨¡å¼ï¼Œåœ¨è„šæœ¬å¼€å¤´åŠ ä¸Š

  ```js
  "use strict";
  ```

- ä¹Ÿå¯ä»¥ç»™å•ç‹¬ä¸€ä¸ªå‡½æ•°æŒ‡å®šä¸¥æ ¼æ¨¡å¼

  ```js
  function doSomeThing() {
  	"use strict";
      // å‡½æ•°ä½“
  }
  ```

## è¯­å¥

åˆ†å·ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æœ€å¥½ä¸è¦çœç•¥ã€‚åŠ åˆ†å·åœ¨æŸäº›æƒ…å†µä¸‹èƒ½æå‡æ€§èƒ½ï¼Œå› ä¸ºè§£æå™¨ä¼šå°è¯•åœ¨åˆé€‚çš„ä½ç½®è¡¥ä¸Šåˆ†å·æ¥çº æ­£è¯­æ³•é”™è¯¯ã€‚

-  å…³äºåˆ†å·æ˜¯å¦çœç•¥ï¼Œæœ€å¥½è¿˜æ˜¯ä¸è¦çœç•¥ï¼Œæˆ‘ä¹‹å‰é‡åˆ°è¿‡ä¸€ä¸ªä¾‹å­ğŸ‘‡ã€‚å¦‚æœä¸åœ¨`const a = 1`åé¢åŠ åˆ†å·ï¼Œä¼šå¯¼è‡´è§£æå™¨è®¤ä¸º1æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠ›å‡º`VM51:2 Uncaught TypeError: 1 is not a function`çš„é”™è¯¯ã€‚

  ```js
  // Uncaught TypeError: 1 is not a function
  const a = 1
  (() => {
      console.log('IFEE')
  })()
  
  // okï¼
  const a = 1;
  (() => {
      console.log('IFEE')
  })();
  ```

# å˜é‡

æœ‰ä¸‰ä¸ªå…³é”®å­—å¯ä»¥å£°æ˜å˜é‡ï¼švarã€let å’Œ constã€‚var åœ¨ ES çš„æ‰€æœ‰ç‰ˆæœ¬ä¸­éƒ½å¯ä»¥ç”¨ï¼Œè€Œ let å’Œ const åªèƒ½åœ¨ ES6 ä»¥åŠæ›´é«˜ç‰ˆæœ¬ä¸­ä½¿ç”¨ã€‚

## var å…³é”®å­—

`var message`å®šä¹‰äº†ä¸€ä¸ªåä¸º message çš„å˜é‡ï¼Œå¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ï¼Œåœ¨æ²¡æœ‰åˆå§‹åŒ–çš„æƒ…å†µä¸‹ï¼Œ`console.log(message)`çš„ç»“æœä¸º undefinedã€‚

### var å£°æ˜ä½œç”¨åŸŸ

- ä½¿ç”¨ var å®šä¹‰çš„å˜é‡ä¼šæˆä¸ºåŒ…å«ä»–çš„å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°é€€å‡ºçš„æ—¶å€™ä¼šè¢«é”€æ¯ã€‚

  ```js
  function test() {
  	var message = "hi";
  }
  test();
  console.log(message) //å‡ºé”™
  ```

- åœ¨å‡½æ•°å†…å®šä¹‰å˜é‡çš„æ—¶å€™çœç•¥ var æ“ä½œç¬¦ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ã€‚

  ```js
  function test() {
  	message = "hi";
  }
  test();
  console.log(message) //hi
  ```

### var å£°æ˜æå‡

- ä½¿ç”¨ var æ—¶ï¼Œä¸‹é¢çš„ä»£ç ä¸ä¼šæŠ¥é”™ï¼Œåº”ä¸ºä½¿ç”¨è¿™ä¸ªå…³é”®å­—å£°æ˜çš„å˜é‡ä¼šè‡ªåŠ¨æå‡åˆ°å‡½æ•°ä½œç”¨åŸŸçš„é¡¶éƒ¨(ä½†æ˜¯ä¼˜å…ˆçº§å°äºå‡½æ•°å£°æ˜)

  ```js
  function foo(){
      console.log(age);
      var age = 26;
  }
  foo() //undefined
  
  ç­‰ä»·äºï¼š
  function foo() {
      var age;
      console.log(age);
      age = 26;
  }
  foo();//undefined
  ```
  
- åå¤å¤šæ¬¡ä½¿ç”¨ var å£°æ˜åŒä¸€ä¸ªå˜é‡ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚

---

## let å£°æ˜

let å’Œ var çš„ä½œç”¨å·®ä¸å¤šï¼Œä½†æœ€æ˜æ˜¾çš„åŒºåˆ«æ˜¯ï¼švar å£°æ˜çš„èŒƒå›´æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œè€Œ let å£°æ˜çš„èŒƒå›´æ˜¯å—ä½œç”¨åŸŸã€‚

```js
if (true){
    var name = 'Matt';
    console.log(name); //Matt
}
console.log(name); //Matt

if(true){
    let age = 26;
    console.log(age); //26
}
console.log(age); //ReferenceError: age æ²¡æœ‰å®šä¹‰
```

- let ä¸å…è®¸åœ¨åŒä¸€ä¸ªå—ä½œç”¨åŸŸä¸­å‡ºç°å†—æ‚ï¼ˆé‡å¤ï¼‰å£°æ˜ï¼Œå¦åˆ™ä¼šé€ æˆæŠ¥é”™ï¼š`SyntaxError:æ ‡è¯†ç¬¦ xx å·²ç»å£°æ˜è¿‡äº†`ã€‚

- let å’Œ var æ˜¯åŒä¸€ç§ç±»å‹çš„å˜é‡ï¼Œä»–ä»¬ä¹‹é—´çš„ä¸åŒä¸»è¦æ˜¯æŒ‡å‡ºå˜é‡çš„ç›¸å…³ä½œç”¨åŸŸå¦‚ä½•å­˜åœ¨

- let å£°æ˜çš„å˜é‡ä¸ä¼šåœ¨ä½œç”¨åŸŸä¸­è¢«æå‡

  ```js
  console.log(age); //ReferenceError: age æ²¡æœ‰å®šä¹‰
  int age = 26;
  ```

- ä½¿ç”¨ let åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡ä¸ä¼šæˆä¸º window å¯¹è±¡çš„å±æ€§ï¼Œè€Œ var å£°æ˜çš„å˜é‡ä¼šã€‚

  ```js
  var name = "Matt";
  console.log(window.name); //Matt
  let age = 26;
  console.log(window.age); //undefined
  ```

- js ä¼šä¸º for å¾ªç¯ä¸­çš„ let å£°æ˜åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„å˜é‡å®ä¾‹ï¼Œåœ¨ let å‡ºç°ä¹‹å‰ï¼Œfor å¾ªç¯å®šä¹‰çš„è¿­ä»£å˜é‡ä¼šæ¸—é€åˆ°å¾ªç¯ä½“å¤–éƒ¨ï¼Œåœ¨ä½¿ç”¨ let åè¿­ä»£å˜é‡çš„ä½œç”¨åŸŸåªå­˜åœ¨äºå‡½æ•°å†…éƒ¨ã€‚

  ```js
  for(var i = 0; i < 5; i++){
      
  }
  console.log(i); //5
  
  for(var i = 0; i < 5; i++){
      setTimeOut(() => console.log(i)); //5,5,5,5,5
  }
  
  ä½¿ç”¨ let åœ¨forå¾ªç¯ä¸­å®šä¹‰è¿­ä»£å˜é‡ä¹‹åï¼š
  
  for(let i = 0; i < 5; i++){
      
  }
  console.log(i); //ReferenceError: i æ²¡æœ‰å®šä¹‰
  
  for(let i = 0; i < 5; i++){
      setTimeOut(() => console.log(i)); //0,1,2,3,4
  }
  ```

---

## const å£°æ˜

- const çš„è¡Œä¸ºä¸ let åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€ä¸€ä¸ªé‡è¦çš„åŒºåˆ«æ˜¯ç”¨å®ƒå£°æ˜å˜é‡çš„åŒæ—¶å¿…é¡»å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸”å°è¯•ä¿®æ”¹ const å£°æ˜çš„å˜é‡çš„æ—¶å€™ä¼šå¯¼è‡´è¿è¡Œæ—¶çš„é”™è¯¯

  ```js
  const age = 26;
  age = 36; // TypeError: ç»™å¸¸é‡èµ‹å€¼
  
  // const ä¹Ÿä¸å…è®¸é‡å¤å£°æ˜
  const name = 'Matt';
  const name = 'Nicholas' // SyntaxError
  
  // const å£°æ˜çš„ä½œç”¨åŸŸä¹Ÿæ˜¯å—
  const name = 'Matt';
  if(true) {
      const name = 'Nicholas';
  }
  console.log(name); // Matt
  ```

- const å£°æ˜çš„é™åˆ¶å€¼é€‚ç”¨äºå®ƒæŒ‡å‘çš„å˜é‡çš„å¼•ç”¨ï¼Œå¦‚æœ const å˜é‡å¼•ç”¨çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¿®æ”¹å¯¹è±¡å“ªä¸çš„å±æ€§ä¸è¿å const çš„é™åˆ¶ã€‚

  ```js
  const person = {};
  person.name = 'Matt';
  ```

- ä¸èƒ½ç”¨ const æ¥å£°æ˜ for å¾ªç¯ä¸­çš„è¿­ä»£å˜é‡ï¼Œå› ä¸º for å¾ªç¯ä¸­ä¼šå­˜åœ¨å˜é‡çš„è‡ªå¢ã€‚

---

# æ•°æ®ç±»å‹

## typeof æ“ä½œç¬¦

å¯¹ä¸€ä¸ªå€¼ä½¿ç”¨ typeof ä¼šè¿”å›ä»¥ä¸‹å…­ç§ç±»å‹ä¹‹ä¸€

- undefindeï¼šè¡¨ç¤ºå€¼ä¸ºå®šä¹‰
- booleanï¼šè¡¨ç¤ºå€¼ä¸ºå¸ƒå°”å€¼
- stringï¼šè¡¨ç¤ºå€¼ä¸ºå­—ç¬¦ä¸²
- objectï¼šè¡¨ç¤ºå€¼ä¸ºå¯¹è±¡ï¼ˆè€Œä¸æ˜¯å‡½æ•°ï¼‰æˆ– null
- functionï¼šè¡¨ç¤ºå€¼ä¸ºå‡½æ•°
- symbolï¼šè¡¨ç¤ºå€¼ä¸ºç¬¦å·

ä¸¥æ ¼æ¥è¯´ï¼Œå‡½æ•°åœ¨ ES ä¸­è¢«è®¤å®šä¸ºæ˜¯å¯¹è±¡ï¼Œå¹¶ä¸ä»£è¡¨ä¸€ç§æ•°æ®ç±»å‹ã€‚ä½†æ˜¯å‡½æ•°ä¹Ÿæœ‰è‡ªå·±ç‰¹æ®Šçš„å±æ€§ã€‚æ‰€ä»¥æœ‰å¿…è¦é€šè¿‡ typeof æ“ä½œç¬¦æ¥åŒºåˆ†å‡½æ•°å’Œå…¶ä»–å¯¹è±¡ã€‚

---

## Undefined ç±»å‹

- Undefinedç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯undefinedã€‚å½“ä½¿ç”¨varæˆ–letå£°æ˜äº†å˜é‡ä½†æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œå°±ç›¸å½“äºç»™å˜é‡èµ‹äºˆäº†undefined å€¼ã€‚

- æ³¨æ„ç­‰äº undefined çš„å˜é‡ï¼Œå’Œæœªå£°æ˜å˜é‡çš„åŒºåˆ«ã€‚ä½¿ç”¨ typeof æ—¶ï¼Œundefined ä¼šè¿”å› undefinedï¼Œæœªå£°æ˜å˜é‡åŒæ ·ä¼šè¿”å›undefinedã€‚

  ```js
  let message;
  
  console.log(message); // undefined
  console.log(age); // æŠ¥é”™
  
  console.log(typeof message); // undefined
  console.log(typeof age); // undefined
  ```

- ä¸¥æ ¼æ¥è¯´æœªåˆå§‹åŒ–çš„å˜é‡å’Œæœªå®šä¹‰çš„å˜é‡å­˜åœ¨æ ¹æœ¬æ€§å·®å¼‚ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ— æ³•è¿›è¡Œå®é™…æ“ä½œï¼Œæ‰€ä»¥ä½¿ç”¨ typeof æ“ä½œç¬¦å¾—åˆ°çš„å€¼éƒ½ä¸º undefinedã€‚

---

## Null ç±»å‹

Nullç±»å‹åŒæ ·åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ nullã€‚null å€¼è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆï¼Œæ‰€ä»¥ typeof null ä¼šè¿”å› "object"ã€‚undefined å€¼æ˜¯ç”± null å€¼æ´¾ç”Ÿè€Œæ¥çš„ã€‚æ‰€ä»¥ `null == undefined` è¿”å›true

---

## Boolean ç±»å‹

Booleanç±»å‹ï¼Œæœ‰ä¸¤ä¸ªå­—é¢å€¼trueå’Œfalseã€‚è™½ç„¶å¸ƒå°”å€¼åªæœ‰ä¸¤ä¸ªï¼Œä½†æ‰€æœ‰å…¶ä»–ECMAScriptç±»å‹çš„å€¼éƒ½æœ‰ç›¸åº”å¸ƒå°”å€¼çš„ç­‰ä»·å½¢å¼ã€‚è¦å°†ä¸€ä¸ªå…¶ä»–ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œå¯ä»¥ä½¿ç”¨Boolean()ï¼ŒBoolean()å¯ä»¥åœ¨ä»»æ„ç±»å‹çš„æ•°æ®ä¸Šè°ƒç”¨ï¼Œè€Œä¸”å§‹ç»ˆè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚

| æ•°æ®ç±»å‹  |    è½¬æ¢ä¸º true çš„å€¼    | è½¬åŒ–ä¸ºfalseçš„å€¼ |
| :-------: | :--------------------: | :-------------: |
|  Boolean  |          true          |      false      |
|  String   |       éç©ºå­—ç¬¦ä¸²       | ""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰  |
|  Number   | éé›¶æ•°å€¼ï¼ˆåŒ…æ‹¬æ— ç©·å€¼ï¼‰ |     0ã€NaN      |
|  Object   |        ä»»æ„å¯¹è±¡        |      null       |
| Undefined |     N/Aï¼ˆä¸å­˜åœ¨ï¼‰      |    undefined    |

- if ç­‰æµæ§åˆ¶è¯­å¥ä¼šè‡ªåŠ¨æ‰§è¡Œå…¶ä»–ç±»å‹å€¼åˆ°å¸ƒå°”å€¼çš„è½¬æ¢

---

## Number ç±»å‹

### æ•´æ•°

```js
let intNum = 59;

let octalNum1 = 070; // å…«è¿›åˆ¶çš„56
let octalNum2 = 08; // æ— æ•ˆçš„å…«è¿›åˆ¶ï¼ŒæŒ‰8å¤„ç†

let hexNum1 = 0xA; // åå…­è¿›åˆ¶çš„10

//å¦‚æœå­—é¢é‡è¶…å‡ºäº†åº”æœ‰çš„èŒƒå›´ï¼Œå°±ä¼šå¿½ç•¥å‰ç¼€ï¼Œå½“ä½œåè¿›åˆ¶å¤„ç†
```

### ç§‘å­¦è®¡æ•°æ³•

```js
// ç­‰äº31250000, 3.125 ä½œä¸ºç³»æ•°ï¼Œä¹˜ä»¥ 10 çš„ 7 æ¬¡å¹‚
let num1 = 3.125e7;

// ç­‰äº0.000 000 3 
let num2 = 3e-7;
```

- ECMAScriptç”±äºä½¿ç”¨äº†IEEE754æ•°å€¼ï¼Œæ‰€ä»¥æµ®ç‚¹æ•°è®¡ç®—å­˜åœ¨åå·®ï¼Œä¾‹å¦‚ï¼Œ0.1åŠ 0.2å¾—åˆ°çš„ä¸ç­‰äº0.3ã€‚ï¼ˆè¿™ç§é”™è¯¯å¹¶éECMAScript æ‰€ç‹¬æœ‰ã€‚å…¶ä»–ä½¿ç”¨ç›¸åŒæ ¼å¼çš„è¯­è¨€ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼‰
- å¦‚ä½•é¿å…è¿™ç§ç²¾åº¦é—®é¢˜
  - å°†æµ®ç‚¹æ•°å˜ä¸ºæ•´æ•°è®¡ç®—ååœ¨è½¬åŒ–ä¸ºæµ®ç‚¹æ•°ã€‚
  - [æˆ–è€…ä½¿ç”¨ç°æˆçš„ç±»åº“](https://javascript.plainenglish.io/why-0-1-0-2-0-3-in-javascript-d7e218224a72?gi=2b1ed4703bd4)

### NaN

- ç”¨ 0 é™¤ä»¥ä»»ä½•æ•°å€¼åœ¨å…¶ä»–è¯­è¨€ä¸­é€šå¸¸éƒ½ä¼šå¯¼è‡´é”™è¯¯ï¼Œä»è€Œç»ˆæ­¢ä»£ç ã€‚ä½†åœ¨**ECMAScript**ä¸­ï¼Œ0ã€+0 æˆ–è€… -0 ç›¸é™¤ä¼šè¿”å› NaN

- å¦‚æœåˆ†å­æ˜¯é 0 å€¼ï¼Œåˆ†æ¯æ˜¯æœ‰ç¬¦å· 0 æˆ–è€…æ— ç¬¦å· 0ï¼Œåˆ™ä¼šè¿”å› **Infinity** æˆ–è€… **-Infinity**

- ä»»ä½•æ¶‰åŠ NaN çš„æ“ä½œéƒ½ä¼šè¿”å› NaNï¼ˆä¾‹å¦‚ NaN/10ï¼‰

- NaN ä¸ç­‰äº åŒ…æ‹¬ NaN åœ¨å†…çš„ä»»ä½•çš„å€¼

- isNaN å‡½æ•°å¯ä»¥åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºæ•°å€¼

  ```javascript
  console.log(isNaN(NaN));      // true
  console.log(isNaN(10));		  // falseï¼Œ10æ˜¯æ•°å€¼
  console.log(isNaN("10"));	  // falseï¼Œå¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼10
  console.log(isNaN("blue"));	  // trueï¼Œä¸å¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼
  console.log(isNaN(true));	  // falseï¼Œå¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼1
  ```

- isNaN å‡½æ•°å¯ä»¥ç”¨äºæµ‹è¯•å¯¹è±¡ï¼Œé¦–å…ˆä¼šè°ƒç”¨å¯¹è±¡çš„ valueOf() æ–¹æ³•ï¼Œç„¶ååœ¨ç¡®å®šè¿”å›çš„å€¼æ˜¯å¦å¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼ã€‚å¦‚æœä¸èƒ½ï¼Œå†è°ƒç”¨ toString() æ–¹æ³•ï¼Œç„¶åå†ç¡®å®šè¿”å›å€¼ã€‚

### æ•°å€¼è½¬æ¢

æœ‰ä¸‰ä¸ªå‡½æ•°å¯ä»¥å°†éæ•°å€¼è½¬åŒ–ä¸ºæ•°å€¼ï¼šNumber()ï¼ŒparseFloat() å’Œ parseInt()ã€‚ç¬¬ä¸€ä¸ªå¯ä»¥ç”¨äºä»»ä½•æ•°æ®ç±»å‹ã€‚åä¸¤ä¸ªå‡½æ•°ä¸»è¦ç”¨äºå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å€¼

- Number() å‡½æ•°åŸºäºå¦‚ä¸‹è§„åˆ™æ‰§è¡Œè½¬æ¢

  - å¸ƒå°”å€¼ï¼Œtrue è½¬æ¢ä¸º 1ï¼Œfalse è½¬æ¢ä¸º 0ã€‚
  - æ•°å€¼ï¼Œç›´æ¥è¿”å›
  - nullï¼Œè¿”å› 0
  - undefinedï¼Œè¿”å› NaN
  - å­—ç¬¦ä¸²ï¼Œåº”ç”¨å¦‚ä¸‹è§„åˆ™ï¼š
    - å¦‚æœå­—ç¬¦ä¸²åŒ…å«æ•°å€¼å­—ç¬¦ï¼ŒåŒ…æ‹¬æ•°å€¼å­—ç¬¦å‰é¢å¸¦åŠ ã€å‡å·çš„æƒ…å†µï¼Œåˆ™è½¬æ¢ä¸ºä¸€ä¸ªåè¿›åˆ¶æ•°å€¼ã€‚
    - å¦‚æœå­—ç¬¦ä¸²åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹å€¼æ ¼å¼å¦‚â€œ1.1â€ï¼Œåˆ™ä¼šè½¬åŒ–ä¸ºç›¸åº”çš„æµ®ç‚¹å€¼
    - å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ ¼å¼å¦‚â€œ0xfâ€ï¼Œåˆ™ä¼šè½¬åŒ–ä¸ºä¸è¯¥åå…­è¿›åˆ¶å€¼å¯¹åº”çš„åè¿›åˆ¶æ•°å€¼ã€‚
    - å¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›0.
    - å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«é™¤ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å­—ç¬¦ï¼Œåˆ™è¿”å› NaN
  - å¯¹è±¡ï¼Œé¦–å…ˆä¼šè°ƒç”¨å¯¹è±¡çš„ valueOf() æ–¹æ³•ï¼Œç„¶ååœ¨ç¡®å®šè¿”å›çš„å€¼æ˜¯å¦å¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼ã€‚å¦‚æœä¸èƒ½ï¼Œå†è°ƒç”¨ toString() æ–¹æ³•ï¼Œç„¶åå†ç¡®å®šè¿”å›å€¼ã€‚

- parseInt() å‡½æ•°æ›´ä¸“æ³¨äºå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ•°å€¼æ¨¡å¼ã€‚å­—ç¬¦ä¸²æœ€å‰é¢çš„ç©ºæ ¼ä¼šè¢«å¿½ç•¥ï¼Œä»ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å¼€å§‹è½¬æ¢ï¼Œå¦‚æœæ£€æµ‹åˆ°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å€¼ã€åŠ å·æˆ–å‡å·ï¼Œåˆ™ç›´æ¥è¿”å› NaNï¼Œåˆ™è¯´æ˜ç©ºå­—ç¬¦ä¸²ä¹Ÿä¼šè¿”å› NaNã€‚å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºæ•°å€¼ã€åŠ å·æˆ–å‡å·ï¼Œåˆ™ç»§ç»­ä»¥æ­¤æ£€æµ‹æ¯ä¸ªå­—ç¬¦ï¼ŒçŸ¥é“å­—ç¬¦ä¸²æœ«å°¾æˆ–æ£€æµ‹åˆ°éæ•°å€¼å­—ç¬¦ã€‚

  ```js
  let num1 = parseInt("1234blue");			// 1234
  let num2 = parseInt("");					// NaN
  let num3 = parseInt(22.5);					// 22
  let num4 = parseInt("0xA");					// 10ï¼Œè½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•´æ•°
  ```

  - parseInt() ä¹Ÿæ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œä¸ºæŒ‡å®šçš„è¿›åˆ¶æ•°

  ```js
  let num1 = parseInt(10,2);			// 2
  let num2 = parseInt(10,8);			// 8
  let num3 = parseInt(10,10);			// 10
  let num4 = parseInt(10,16);			// 16
  ```

- parseFloat() å‡½æ•°å’Œ parseInt() å‡½æ•°ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å¼€å§‹è½¬æ¢ï¼Œè½¬æ¢åˆ°å­—ç¬¦ä¸²æœ«å°¾æˆ–è€…æ£€æµ‹åˆ°éæ•°å€¼å­—ç¬¦åˆ™åœæ­¢ï¼Œä¹Ÿå°±æ˜¯è¯´æ£€æµ‹åˆ°çš„ç¬¬ä¸€ä¸ªå°æ•°ç‚¹æ˜¯æœ‰æ•ˆçš„ï¼Œç¬¬äºŒæ¬¡æ£€æµ‹åˆ°çš„å°æ•°ç‚¹æ˜¯æ— æ•ˆçš„ã€‚

  - è¿™ä¸ªå‡½æ•°å¯ä»¥è¯†åˆ«æ‰€æœ‰çš„æµ®ç‚¹æ ¼å¼ä»¥åŠåè¿›åˆ¶æ ¼å¼ï¼Œåå…­è¿›åˆ¶æ•°å€¼å§‹ç»ˆä¼šè¿”å› 0ï¼Œä¸”æ— æ³•æŒ‡å®šåº•æ•°ã€‚

  ```js
  let num1 = parseFloat("1234blue");			// 1234
  let num2 = parseFloat("0xA");				// 0
  let num3 = parseFloat("22.5");				// 22.5
  let num4 = parseFloat("22.34.5");			// 22.34
  let num5 = parseFloat("0908.5");			// 908.5
  let num6 = parseFloat("3.125e7");			// 31250000
  ```

---

## String ç±»å‹

ä»¥ä¸‹ä»£ç çš„å­˜åœ¨éƒ½æ˜¯åˆæ³•çš„

```js
let firstName = "John";
let lastName = 'Jacob';
let laseName = `Jingleheimerschmidt`
```

### å­—ç¬¦ä¸²çš„ç‰¹ç‚¹

ECMAScript ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œè¦ä¿®æ”¹æŸä¸ªå˜é‡ä¸­çš„å­—ç¬¦ä¸²å€¼ï¼Œå¿…é¡»é”€æ¯åŸæœ‰çš„å­—ç¬¦ä¸²ï¼Œç„¶åå°†åŒ…å«æ–°å€¼çš„å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åˆ°è¯¥å˜é‡ä¸­

### è½¬åŒ–ä¸ºå­—ç¬¦ä¸²

- toString() æ–¹æ³•å¯è§äºæ•°å€¼ã€å¸ƒå°”å€¼ã€å¯¹è±¡å’Œå­—ç¬¦ä¸²å€¼ï¼Œå”¯ä¸€çš„ç”¨é€”å°±æ˜¯è¿”å›å½“å‰å€¼çš„å­—ç¬¦ä¸²ç­‰ä»·ç‰©ã€‚null å’Œundefined å€¼æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚

  - å¤šæ•°æƒ…å†µä¸‹ toString() æ–¹æ³•ä¸æ¥å—å‚æ•°ï¼Œä½†å½“æ•°å€¼è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªåº•æ•°å‚æ•°ï¼Œè¡¨ç¤ºä»¥ä»€ä¹ˆåº•æ•°æ¥è¾“å‡ºæ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

  ```js
  let num = 10; 
  console.log(num.toString());  			// "10"
  console.log(num.toString(2));  			// "1010"
  console.log(num.toString(8));  			// "12"
  console.log(num.toString(10));  		// "10"
  console.log(num.toString(16)); 			// "a"
  ```

- å½“ä¸ç¡®å®šå€¼æ˜¯å¦ä¸º null æˆ– undefined çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ String() è½¬å‹å‡½æ•°ï¼Œå§‹ç»ˆä¼šè¿”å›è¡¨ç¤ºç›¸åº”ç±»å‹å€¼çš„å­—ç¬¦ä¸²ï¼Œè¯¥å‡½æ•°éµå¾ªä»¥ä¸‹è§„åˆ™

  - å¦‚æœå€¼æœ‰ toString() æ–¹æ³•ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼ˆä¸ä¼ å‚æ•°ï¼‰å¹¶è¿”å›ç»“æœã€‚
  - å¦‚æœå€¼æ˜¯ nullï¼Œè¿”å›"null"
  - å¦‚æœå€¼æ˜¯ undefinedï¼Œè¿”å›â€œundefinedâ€

- ç”¨åŠ å·æ“ä½œç¬¦ç»™ä¸€ä¸ªå€¼åŠ ä¸Šä¸€ä¸ªç©ºå­—ç¬¦ä¸²â€œâ€ï¼Œä¹Ÿå¯ä»¥å°†å…¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚

### æ¨¡ç‰ˆå­—é¢é‡

ä¸ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ä¸åŒï¼Œæ¨¡ç‰ˆå­—é¢é‡ä¿ç•™æ¢è¡Œå­—ç¬¦ï¼Œå¯ä»¥è·¨è¡Œå®šä¹‰å­—ç¬¦ä¸²

```js
let myMultiLineString = 'first line\nsecoend line';
let myMultiLineTemplateLiteral = `first line
second line`;

console.log(myMultiLineString);
// first line
// second line

console.log(myMultiLineTemplateLiteral)
// first line
// second line

console.log(myMultiLineString === myMultiLineTemplateLiteral);		// true
```

ç”±äºæ¨¡ç‰ˆå­—é¢é‡ä¼šä¿æŒåå¼•å·å†…éƒ¨çš„ç©ºæ ¼ï¼Œæ‰€ä»¥æ ¼å¼æ­£ç¡®çš„æ¨¡ç‰ˆå­—ç¬¦å¯èƒ½çœ‹èµ·æ¥ä¼šç¼©è¿›ä¸å½“ï¼Œ

```js
// è¿™ä¸ªæ¨¡æ¿å­—é¢é‡åœ¨æ¢è¡Œç¬¦ä¹‹åæœ‰ 25 ä¸ªç©ºæ ¼ç¬¦ 
let myTemplateLiteral = `first line
                         second line`;
console.log(myTemplateLiteral.length); 			// 47

// è¿™ä¸ªæ¨¡ç‰ˆå­—é¢é‡ä»¥ä¸€ä¸ªæ¢è¡Œç¬¦å¼€å¤´
let secondTemplateLiteral = `
first line
second line`;
console.log(secondTemplateLiteral[0] = '\n'); 	// true

// è¿™ä¸ªæ¨¡ç‰ˆå­—é¢é‡æ²¡æœ‰æ„æ–™ä¹‹å¤–çš„å­—ç¬¦
let thirdTemplateLiteral = `first line
second line`;
console.log(thirdTemplateLiteral);
// first line
// second line
```

### å­—ç¬¦ä¸²æ’å€¼

æ¨¡ç‰ˆå­—é¢é‡åœ¨å®šä¹‰çš„æ—¶å€™ç«‹å³æ±‚å€¼å¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²å®ä¾‹ï¼Œä»»ä½•æ’å…¥çš„å˜é‡ä¹Ÿä¼šä»å®ƒä»¬æœ€æ¥è¿‘çš„ä½œç”¨åŸŸä¸­å–å€¼ã€‚å­—ç¬¦ä¸²æ’å€¼é€šè¿‡åœ¨ ${} ä¸­ä½¿ç”¨ä¸€ä¸ª JavaScript è¡¨è¾¾å¼å®ç°ï¼š

```js
let value = 5;
let exponent = 'second';

// ä»¥å‰ï¼Œå­—ç¬¦ä¸²æ’å€¼æ˜¯è¿™æ ·å®ç°çš„
let interpolatedString = value + 'to the' + exponent + 'power is' + (value * value);

// ç°åœ¨ï¼Œå¯ä»¥ç”¨å­—é¢é‡è¿™æ ·å®ç°
let interpolatdTemplateLieral = `${value} to the ${exponent} power is ${value * value}`

console.log(interpolatedString);			// 5 to the second power is 25
console.log(interpolatdTemplateLieral);		// 5 to the second power is 25
```

### æ¨¡æ¿å­—é¢é‡æ ‡ç­¾å‡½æ•°

æ¨¡æ¿å­—é¢é‡ä¹Ÿæ”¯æŒå®šä¹‰æ ‡ç­¾å‡½æ•°(tag function)ï¼Œè€Œé€šè¿‡æ ‡ç­¾å‡½æ•°å¯ä»¥è‡ªå®šä¹‰æ’å€¼è¡Œä¸ºã€‚æ ‡ç­¾å‡½æ•°ä¼šæ¥æ”¶è¢«æ’å€¼è®°å·åˆ†éš”åçš„æ¨¡æ¿å’Œå¯¹æ¯ä¸ªè¡¨è¾¾å¼æ±‚å€¼çš„ç»“æœã€‚

```javascript
let a = 6;
let b = 9;

// å¯ä»¥è‡ªå®šä¹‰æ ‡ç­¾å¦‚ä½•ç»„åˆçš„è¡Œä¸º
function simpleTag(strings, ...expressions) {
    console.log(strings);
    for(const expression of expressions) {
        console.log(expression);
    }
    return 'foobar';
}

let taggedResult = simpleTag`${ a } + ${ b } = ${ a + b }`;


// ["", " + ", " = ", ""] simpleTagçš„ç¬¬ä¸€ä¸ªå‚æ•°
// simpleTagå‰©ä½™çš„å‚æ•°
// 6
// 9
// 15
console.log(taggedResult); // "foobar"
```

### åŸå§‹å­—ç¬¦ä¸²

ä½¿ç”¨ String.raw æ ‡ç­¾å‡½æ•°å¯ä»¥ç›´æ¥è·å–åŸå§‹çš„æ¨¡ç‰ˆå­—é¢é‡å†…å®¹ï¼Œè‹¥ä¸æ˜¯è¢«è½¬ä¹‰ä¹‹åçš„å­—ç¬¦ä¸²å†…å®¹

```javascript
console.log(String.raw`\u00A9`); 
// \u00A9, ä¸ä¼šå¯¹\u00A9è½¬ä¹‰

console.log(String.raw`first line\nsecond line`); 
// "first line\nsecond line"ï¼Œä¸ä¼šå¯¹\nè½¬ä¹‰
```

ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„çš„ .raw å±æ€§è·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„åŸå§‹å†…å®¹

```javascript
function printRaw(strings){
    for(const string of strrings){
        console.log(string);
    }
    for(const rawString in strings.raw){
        console.log(rawString);
    }
}

printRaw`\u00A9${ 'and' }\n`
// (å•†æ ‡ç¬¦å·)
// (æ¢è¡Œç¬¦)

// \u00A9
// \n
```

## Symbol ç±»å‹

Symbol(ç¬¦å·)æ˜¯ECMAScript6æ–°å¢çš„æ•°æ®ç±»å‹ã€‚ç¬¦å·çš„ç”¨é€”æ˜¯ç¡®ä¿å¯¹è±¡å±æ€§ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¸ä¼šå‘ç”Ÿå±æ€§å†²çªçš„å±é™©ã€‚

### ç¬¦å·çš„åŸºæœ¬ç”¨æ³•

ç¬¦å·éœ€è¦ç”¨ Symbol() å‡½æ•°åˆå§‹åŒ–ï¼Œtypeof å¯¹ç¬¦å·çš„è¿”å›å€¼æ˜¯ symbolã€‚

```javascript
// åˆ›å»º Symbol
let sym = Symbol();
console.log(typeof(sym));		// symbol
// ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ä½œä¸ºå¯¹ç¬¦å·çš„æè¿°ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å‚æ•°ä¸ç¬¦å·çš„å®šä¹‰æˆ–æ ‡è¯†å®Œå…¨æ— å…³
let fooSymbol = Symbol('foo');
```

### å…¨å±€ç¬¦å·æ³¨å†Œè¡¨

ä½¿ç”¨ Symbol.for() åˆ›å»ºç¬¦å·ï¼Œå®ƒä¼šæ£€æŸ¥å…¨å±€è¿è¡Œæ—¶æ³¨å†Œè¡¨ï¼Œå‘ç°ä¸å­˜åœ¨å¯¹åº”çš„ç¬¦å·ï¼Œäºæ˜¯å°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°ç¬¦å·å®ä¾‹å¹¶æ·»åŠ åˆ°æ³¨å†Œè¡¨ä¸­ã€‚åç»­ä½¿ç”¨ç›¸åŒ å­—ç¬¦ä¸²çš„è°ƒç”¨åŒæ ·ä¼šæ£€æŸ¥æ³¨å†Œè¡¨ï¼Œå‘ç°å­˜åœ¨ä¸è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„ç¬¦å·ï¼Œç„¶åå°±ä¼šè¿”å›è¯¥ç¬¦å·å®ä¾‹ã€‚

```javascript
let fooGlobalSymbol = Symbol.for('foo');			// åˆ›å»ºæ–°ç¬¦å·
let otherFooGlobalSymbol = Symbol.for('foo');		// é‡ç”¨å·²æœ‰ç¬¦å·
console.log(fooGlobalSymbol === otherFooGlobalSymbol);		// true
```

- å³ä½¿é‡‡ç”¨ç›¸åŒçš„ç¬¦å·æè¿°ï¼Œåœ¨å…¨å±€æ³¨å†Œè¡¨ä¸­å®šä¹‰çš„ç¬¦å·è·Ÿä½¿ç”¨ Symbol() å®šä¹‰çš„ç¬¦å·ä¹Ÿå¹¶ä¸ç­‰åŒ

  ```javascript
  let localSymbol = Symbol('foo');
  let globalSymbol = Symbol.for('foo');
  console.log(localSymbol === globalSymbol); // false
  ```

- å…¨å±€æ³¨å†Œè¡¨ä¸­çš„ç¬¦å·å¿…é¡»ä½¿ç”¨å­—ç¬¦ä¸²é”®æ¥åˆ›å»ºï¼Œå› æ­¤ä½œä¸ºå‚æ•°ä¼ ç»™ Symbol.for() çš„ä»»ä½•å€¼éƒ½ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

  ```javascript
  let emptyGlobalSymbol = Symbol.for();
  console.log(emptyGlobalSymbol); 	// Symbol(undefined) 
  ```

- è¿˜å¯ä»¥ä½¿ç”¨ Symbol.keyFor() æ¥æŸ¥è¯¢å…¨å±€æ³¨å†Œè¡¨ï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶ç¬¦å·ï¼Œè¿”å›è¯¥å…¨å±€ç¬¦å·å¯¹åº”çš„å­— ç¬¦ä¸²é”®ã€‚å¦‚æœæŸ¥è¯¢çš„ä¸æ˜¯å…¨å±€ç¬¦å·ï¼Œåˆ™è¿”å› undefinedã€‚

  ```javascript
  // åˆ›å»ºå…¨å±€ç¬¦å·
  let s = Symbol.for('foo');
  console.log(Symbol.keyFor(s)); // foo
  // åˆ›å»ºæ™®é€šç¬¦å·
  let s2 = Symbol('bar');
  console.log(Symbol.keyFor(s2)); // undefined 
  
  //å¦‚æœä¼ ç»™ Symbol.keyFor()çš„ä¸æ˜¯ç¬¦å·ï¼Œåˆ™è¯¥æ–¹æ³•æŠ›å‡º TypeErrorï¼š
  Symbol.keyFor(123); 		// TypeError: 123 is not a symbol 
  ```

### ä½¿ç”¨ç¬¦å·ä½œä¸ºå±æ€§

å‡¡æ˜¯å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ•°å€¼ä½œä¸ºå±æ€§çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç¬¦å·ã€‚è¿™å°±åŒ…æ‹¬äº†å¯¹è±¡å­—é¢é‡å±æ€§å’Œ Object.defineProperty()ã€Object.defineProperties() å®šä¹‰çš„å±æ€§ã€‚å¯¹è±¡å­—é¢é‡åªèƒ½åœ¨è®¡ç®—å±æ€§è¯­æ³•ä¸­ä½¿ç”¨ç¬¦å·ä½œä¸ºå±æ€§ã€‚

```javascript
let s1 = Symbol('foo')
let s2 = Symbol('bar')

let o = {
    [s1]: 'foo val'
};

Object.defineProperty(o, s2, {value: 'bar val'});

console.log(o); // {Symbol(foo): foo val, Symbol(bar): bar val}
```

**Object.getOwnPropertyNames() ä¼šè¿”å›å¯¹è±¡å¸¸è§„å±æ€§çš„æ•°ç»„,  Object.getOwnPropertySymbols() è¿”å›å¯¹è±¡å®ä¾‹çš„ç¬¦å·å±æ€§æ•°ç»„**, è¿™ä¸¤ä¸ªæ–¹æ³•çš„è¿”å›å€¼å½¼æ­¤äº’æ–¥ã€‚**Object.getOwnPropertyDescriptors() ä¼šè¿”å›åŒæ—¶åŒ…å«å¸¸è§„å’Œç¬¦å·å±æ€§æè¿°ç¬¦çš„å¯¹è±¡ï¼ŒReflect.ownKeys() ä¼šè¿”å›ä¸¤ç§ç±»å‹çš„é”®**

```javascript
let s1 = Symbol('foo')
let s2 = Symbol('bar')
let o = {
    [s1]: 'foo val',
    [s2]: 'bar val',
    baz: 'baz val',
    qux: 'qux val'
};
console.log(Object.getOwnPropertySymbols(o)); // [Symbol(foo), Symbol(bar)]
console.log(Object.getOwnPropertyNames(o)); // ["baz", "qux"]
console.log(Object.getOwnPropertyDescriptors(o)); // {baz: {...}, qux: {...}, Symbol(foo): {...}, Symbol(bar): {...}}
console.log(Reflect.ownKeys(o)); // ["baz", "qux", Symbol(foo), Symbol(bar)]
```

- åœ¨æåˆ° ECMAScript è§„èŒƒæ—¶ï¼Œç»å¸¸ä¼šå¼•ç”¨ç¬¦å·åœ¨è§„èŒƒä¸­çš„åç§°ï¼Œå‰ç¼€ä¸º @@ã€‚æ¯”å¦‚ï¼Œ @@iterator æŒ‡çš„å°±æ˜¯ Symbol.iteratorã€‚

### Symbol.asyncIterator

ä½œä¸ºä¸€ä¸ªå±æ€§è¿”å›å¯¹è±¡é»˜è®¤çš„ AsyncIteratorï¼Œç”± for-await-of å¾ªç¯ä½¿ç”¨ã€‚è¿™ä¸ªç¬¦å·è¡¨ç¤ºå®ç°å¼‚æ­¥è¿­ä»£å™¨ API çš„å‡½æ•°ã€‚å¾ªç¯æ—¶ï¼Œå®ƒä»¬ä¼šè°ƒç”¨ä»¥ Symbol.asyncIterator ä¸ºé”®çš„å‡½æ•°ï¼Œå¹¶æœŸæœ›è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå®ç°è¿­ä»£å™¨ API çš„å¯¹è±¡ã€‚å¾ˆå¤šæ—¶å€™ï¼Œè¿”å›çš„å¯¹è±¡æ˜¯å®ç°è¯¥ API çš„ AsyncGeneratorï¼ˆç±»ä¼¼äº Symbol.Iterator çš„å¼‚æ­¥ç‰ˆæœ¬ï¼‰

```js
class Foo {
 async *[Symbol.asyncIterator]() {}
}
let f = new Foo();
console.log(f[Symbol.asyncIterator]());
// AsyncGenerator {<suspended>}
```

æŠ€æœ¯ä¸Šï¼Œè¿™ä¸ªç”± Symbol.asyncIterator å‡½æ•°ç”Ÿæˆçš„å¯¹è±¡åº”è¯¥é€šè¿‡å…¶ next() æ–¹æ³•é™†ç»­è¿”å› Promise å®ä¾‹ã€‚å¯ä»¥é€šè¿‡æ˜¾å¼åœ°è°ƒç”¨ next() æ–¹æ³•è¿”å›ï¼Œä¹Ÿå¯ä»¥éšå¼åœ°é€šè¿‡å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°è¿”å›ï¼š

```js
class Emitter {
 constructor(max) {
 this.max = max;
 this.asyncIdx = 0;
 }
 async *[Symbol.asyncIterator]() {
 while(this.asyncIdx < this.max) {
 yield new Promise((resolve) => resolve(this.asyncIdx++));
 }
 }
}
async function asyncCount() {
 let emitter = new Emitter(5);
 for await(const x of emitter) {
 console.log(x);
 }
}
asyncCount();
// 0
// 1
// 2
// 3
// 4 
```

- è‡ªå®šä¹‰å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡

```javascript
const obj = {};
obj[Symbol.asyncIterator] = async function*() {
    yield "1";
    yield "2";
    yield "3";
};
(async () => {
    for await (const item of obj) {
        // 1, 2, 3
        alert(item)
    }
})();
```

#### for...await...of

forâ€¦awaitâ€¦of è¯­å¥åˆ›å»ºä¸€ä¸ªå¾ªç¯ï¼Œè¯¥å¾ªç¯éå†å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ä»¥åŠåŒæ­¥å¯è¿­ä»£å¯¹è±¡ã€‚è¯¥å¾ªç¯éå†å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ä»¥åŠåŒæ­¥å¯è¿­ä»£å¯¹è±¡ï¼ŒåŒ…æ‹¬: å†…ç½®çš„ Stringï¼ŒArrayï¼Œç±»ä¼¼æ•°ç»„å¯¹è±¡ (ä¾‹å¦‚ arguments æˆ– NodeList )ã€‚

forâ€¦awaitâ€¦of ä¹Ÿå¯ä»¥è¿­ä»£å®ç°äº† Symbol.asyncIterator å±æ€§çš„å¯¹è±¡.

```js
const generatePromise = (res) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve(res)
        }, parseInt(Math.random() * 1000))
    })
}
const list = [generatePromise(1), generatePromise(2), generatePromise(3)];

const init = async () => {
    for await(let item of list) {
        // 1, 2, 3
        alert(item)
    }
}
init()
```

### Symbol.hasInstance

Symbol.hasInstanceå±æ€§è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å†³å®šä¸€ä¸ªæ„é€ å™¨å¯¹è±¡æ˜¯å¦è®¤å¯ä¸€ä¸ªå¯¹è±¡æ˜¯å®ƒçš„å®ä¾‹ã€‚ç”±instanceofæ“ä½œç¬¦ä½¿ç”¨ã€‚instanceofæ“ä½œç¬¦å¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå¯¹è±¡ å®ä¾‹çš„åŸå‹é“¾ä¸Šæ˜¯å¦æœ‰åŸå‹ã€‚instanceof çš„å…¸å‹ä½¿ç”¨åœºæ™¯å¦‚ä¸‹

```js
function Foo(){}
let f = new Foo();
console.log(f instanceof Foo); 			// true

class Bae{}
let b = new Bar();
console.log(b instanceof Bar);			// true
```

åœ¨ ES6 ä¸­ï¼Œinstanceof æ“ä½œç¬¦ä¼šä½¿ç”¨ Symbol.hasInstance å‡½æ•°æ¥ç¡®å®šå…³ç³»ã€‚ä»¥ Symbol. hasInstance ä¸ºé”®çš„å‡½æ•°ä¼šæ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œåªæ˜¯æ“ä½œæ•°å¯¹è°ƒäº†ä¸€ä¸‹ï¼š

```js
function Foo() {}
let f = new Foo();
console.log(Foo[Symbol.hasInstance](f)); // true

class Bar {}
let b = new Bar();
console.log(Bar[Symbol.hasInstance](b)); // true 
```

è¿™ä¸ªå±æ€§å®šä¹‰åœ¨ Function çš„åŸå‹ä¸Šï¼Œå› æ­¤é»˜è®¤åœ¨æ‰€æœ‰å‡½æ•°å’Œç±»ä¸Šéƒ½å¯ä»¥è°ƒç”¨ã€‚ç”±äº instanceof æ“ä½œç¬¦ä¼šåœ¨åŸå‹é“¾ä¸Šå¯»æ‰¾è¿™ä¸ªå±æ€§å®šä¹‰ï¼Œå°±è·Ÿåœ¨åŸå‹é“¾ä¸Šå¯»æ‰¾å…¶ä»–å±æ€§ä¸€æ ·ï¼Œå› æ­¤å¯ä»¥åœ¨ç»§æ‰¿çš„ç±»ä¸Šé€š è¿‡é™æ€æ–¹æ³•é‡æ–°å®šä¹‰è¿™ä¸ªå‡½æ•°ï¼š

```js
class Bar {}
class Baz extends Bar {
	static [Symbol.hasInstance]() {
 	return false;
 	}
}
let b = new Baz();
console.log(Bar[Symbol.hasInstance](b)); // true
console.log(b instanceof Bar); // true
console.log(Baz[Symbol.hasInstance](b)); // false
console.log(b instanceof Baz); // false 
```

### Symbol.isConcatSpreadable

è¿™ä¸ªç¬¦å·ä½œä¸ºä¸€ä¸ªå±æ€§è¡¨ç¤º, ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœæ˜¯trueï¼Œåˆ™æ„å‘³ç€å¯¹è±¡åº”è¯¥ç”¨ Array.prototype.concat() æ‰“å¹³å…¶æ•°ç»„å…ƒç´ ã€‚ES6 ä¸­çš„ Array.prototype.concat() æ–¹æ³•ä¼šæ ¹æ®æ¥æ”¶åˆ°çš„å¯¹è±¡ç±»å‹é€‰æ‹©å¦‚ä½•å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡æ‹¼æ¥æˆæ•°ç»„å®ä¾‹ã€‚è¦†ç›– Symbol.isConcatSpreadable çš„å€¼å¯ä»¥ä¿®æ”¹è¿™ä¸ªè¡Œä¸ºã€‚

å¦‚æœæ˜¯falseï¼Œæ•´ä¸ªå¯¹è±¡è¢«è¿½åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚ç±»æ•°ç»„å¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ä¼šè¢«è¿½åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œtrue æˆ–çœŸå€¼ä¼šå¯¼è‡´è¿™ä¸ªç±»æ•°ç»„å¯¹è±¡è¢«æ‰“å¹³åˆ°æ•°ç»„å®ä¾‹ã€‚å…¶ä»–ä¸æ˜¯ç±»æ•°ç»„å¯¹è±¡çš„å¯¹è±¡åœ¨ Symbol.isConcatSpreadable è¢«è®¾ç½®ä¸º true çš„æƒ…å†µä¸‹å°†è¢«å¿½ç•¥ã€‚

```javascript
let initial = ['foo'];
let array = ['bar'];
console.log(array[Symbol.isConcatSpreadable]);				// undefined
console.log(initial.concat(aray));							// ['foo','bar']
array[Symbol.isConcatSpreadable] = false;
console.log(initial.concat(array));							// ['foo',Array(1)]

// ç±»æ•°ç»„å¯¹è±¡
let arrayLikeObject = { length: 1, 0: 'baz'}ï¼›
console.log(arrayLikeObject[Symbol.isConcatSpreadable]);	// undefined
console.log(initial.concat(arrayLikeObject));				// ['foo',{...}]
arrayLikeObject[Symbol.isConcatSpreadable] = true;
console.log(initial.concat(arrayLikeObject));				// ['foo','baz']

// éç±»æ•°ç»„å¯¹è±¡åœ¨ä¸º true çš„æƒ…å†µä¸‹è¢«å¿½ç•¥
let otherObject = new Set().add('qux');
console.log(otherObject[Symbol.isConcatSpreadable]);		// undefined
console.log(initial.concat(otherObject));					// ['foo',Set(1)]
otherObject[Symbol.isConcatSpreadable] = true;
console.log(initial.concat(otherObject));					// ['foo']
```

### Symbol.iterator

Symbol.iterator ä½œä¸ºä¸€ä¸ªå±æ€§è¡¨ç¤ºâ€œä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›å¯¹è±¡é»˜è®¤çš„è¿­ä»£å™¨ã€‚ç”± for-of è¯­å¥ä½¿ç”¨ã€‚

è¿™ä¸ªç¬¦å·è¡¨ç¤ºå®ç°è¿­ä»£å™¨ API çš„å‡½æ•°ã€‚

for-of å¾ªç¯è¿™æ ·çš„è¯­è¨€ç»“æ„ä¼šåˆ©ç”¨è¿™ä¸ªå‡½æ•°æ‰§è¡Œè¿­ä»£æ“ä½œã€‚å¾ªç¯æ—¶ï¼Œå®ƒä»¬ä¼šè°ƒç”¨ä»¥ Symbol.iterator ä¸ºé”®çš„å‡½æ•°ï¼Œå¹¶é»˜è®¤è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå®ç°è¿­ä»£å™¨ API çš„å¯¹è±¡ã€‚å¾ˆå¤šæ—¶å€™ï¼Œè¿”å›çš„å¯¹è±¡æ˜¯å®ç°è¯¥ API çš„ Generatorï¼š

```js
class Foo {
 *[Symbol.iterator]() {}
}
let f = new Foo();
console.log(f[Symbol.iterator]());
// Generator {<suspended>}
```

Symbol.iterator()ä¼šè¿”å›å®ç°äº†è¿­ä»£å™¨APIçš„å¯¹è±¡ï¼ˆç±»ä¼¼ `{ done: true, value: 'data' }`ï¼‰

```javascript
const obj = {};
obj[Symbol.iterator] = function*() {
    yield "1";
    yield "2";
    yield "3";
};
(() => {
    for (const item of obj) {
        // 1, 2, 3
        alert(item)
    }
})()
```

### Symbol.match

Symbol.match ä½œä¸ºä¸€ä¸ªå±æ€§è¡¨ç¤º â€œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…å­—ç¬¦ä¸²ã€‚ç”± String.prototype.match() æ–¹æ³•ä½¿ç”¨â€œ

String.prototype.match()æ–¹æ³•ä¼šä½¿ ç”¨ä»¥ Symbol.match ä¸ºé”®çš„å‡½æ•°æ¥å¯¹æ­£åˆ™è¡¨è¾¾å¼æ±‚å€¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„åŸå‹ä¸Šé»˜è®¤æœ‰è¿™ä¸ªå‡½æ•°çš„å®šä¹‰ï¼Œ å› æ­¤æ‰€æœ‰æ­£åˆ™è¡¨è¾¾å¼å®ä¾‹é»˜è®¤æ˜¯è¿™ä¸ª String æ–¹æ³•çš„æœ‰æ•ˆå‚æ•°ï¼š

```javascript
console.log(RegExp.prototype[Symbol.match]);
// Æ’ [Symbol.match]() { [native code] }
console.log('foobar'.match(/bar/));
// ["bar", index: 3, input: "foobar", groups: undefined] 
```

ç»™è¿™ä¸ªæ–¹æ³•ä¼ å…¥éæ­£åˆ™è¡¨è¾¾å¼å€¼ä¼šå¯¼è‡´è¯¥å€¼è¢«è½¬æ¢ä¸º RegExp å¯¹è±¡ã€‚å¦‚æœæƒ³æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œè®©æ–¹æ³•ç›´æ¥ä½¿ç”¨å‚æ•°ï¼Œåˆ™å¯ä»¥é‡æ–°å®šä¹‰ Symbol.match å‡½æ•°ä»¥å–ä»£é»˜è®¤å¯¹æ­£åˆ™è¡¨è¾¾å¼æ±‚å€¼çš„è¡Œä¸ºï¼Œä»è€Œè®© match() æ–¹æ³•ä½¿ç”¨éæ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ã€‚Symbol.match å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯è°ƒç”¨ match() æ–¹æ³•çš„å­—ç¬¦ä¸²å®ä¾‹ã€‚è¿”å›çš„å€¼æ²¡æœ‰é™åˆ¶ï¼š

```javascript
class FooMatcher {
	static [Symbol.match](target) {
 		return target.includes('foo');
 	}
}
console.log('foobar'.match(FooMatcher)); // true
console.log('barbaz'.match(FooMatcher)); // false
class StringMatcher {
 	constructor(str) {
 		this.str = str;
 	}
 	[Symbol.match](target) {
 		return target.includes(this.str);
 	}
}
console.log('foobar'.match(new StringMatcher('foo'))); // true
console.log('barbaz'.match(new StringMatcher('qux'))); // false 
```

::: note ä¸ªäººç†è§£

â€‹	å¦‚æœèƒ½åœ¨ç›®æ ‡ä¸­æ‰¾åˆ°ä¼ å…¥çš„å˜é‡ï¼Œåˆ™è¿”å› true

:::

### Symbol.replace

Symbol.replace ä½œä¸ºä¸€ä¸ªå±æ€§è¡¨ç¤º â€œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•ï¼Œ





























